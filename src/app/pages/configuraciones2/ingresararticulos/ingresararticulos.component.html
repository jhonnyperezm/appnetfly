<div class="row">
  <div class="container-fluid contenedorconfig">

    <div class="row color_config">
      <div class="col-lg-12" align="center">
        <h1>Ingresar Articulos</h1>
      </div>
    </div>
    <br>


    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->
    <!-- ************************** BOTONES SUPERIORES ****************************** -->
    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->

    <!--   <section class="row">
      <section class="col-md-2 centrarhorizontal">
        <a (click)="ClickPrincipal()">
          <img src="assets/images/contenido/PNG 106 X 106/articulo 106x106.png" width="40" height="40" class="btnReportes">
          <br>
          <b>Articulo</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="(DataNewArticulo.inventario || DataNewArticulo.compras) && (DataNewArticulo.nombre && ListaPuntos.length !== 0)">
        <a (click)="ClickInventario();bindingSitiosAlmacenaje();">
          <img src="assets/images/contenido/PNG 106 X 106/inventario 106x106.png" width="40" height="40" class="btnReportes">
          <br>
          <b>Inventario</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="DataNewArticulo.ventas && (DataNewArticulo.nombre && ListaPuntos.length !== 0)">
        <a (click)="ClickVentas()">
          <img src="assets/images/contenido/PNG 106 X 106/ventas 106x106.png" width="40" height="40" class="btnReportes">
          <br>
          <b>Ventas</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="(DataNewArticulo.receta &&
    ((DataNewArticulo.inventario && !DataNewArticulo.ventas && !DataNewArticulo.unidadKardex) ||
    (!DataNewArticulo.inventario && DataNewArticulo.ventas && !DataNewArticulo.idUnidadVenta) ||
    (DataNewArticulo.inventario && DataNewArticulo.ventas && !DataNewArticulo.idUnidadVenta)))
    && (DataNewArticulo.nombre && ListaPuntos.length !== 0)">
        <a>
          <img src="assets/images/contenido/PNG 106 X 106/recreta 106x106.png" width="40" height="40" class="btnReportes">
          <br>
          <b>Receta</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="(DataNewArticulo.receta &&
    ((DataNewArticulo.inventario && !DataNewArticulo.ventas && DataNewArticulo.unidadKardex) ||
    (!DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta) ||
    (DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta) ||
    DataNewArticulo.seleccion)) &&
    (DataNewArticulo.nombre && ListaPuntos.length !== 0)">
        <a (click)="ClickReceta();LoadArticulosReceta()">
          <img src="assets/images/contenido/PNG 106 X 106/recreta-106x106-BN.png" width="40" height="40" class="btnReportes">
          <br>
          <b>Receta</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="DataNewArticulo.utilizaEmpaque && (DataNewArticulo.nombre && ListaPuntos.length !== 0)">
        <a (click)="ClickEmpaque();LoadArticulosEmpaque()">
          <img src="assets/images/contenido/PNG 106 X 106/empaques 106x106.png" width="40" height="40" class="btnReportes">
          <br>
          <b>Empaques</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="(DataNewArticulo.maneja_fraccion &&
    ((DataNewArticulo.inventario && !DataNewArticulo.ventas && !DataNewArticulo.unidadKardex) ||
    (!DataNewArticulo.inventario && DataNewArticulo.ventas && !DataNewArticulo.idUnidadVenta) ||
    (DataNewArticulo.inventario && DataNewArticulo.ventas && !DataNewArticulo.idUnidadVenta)))
    && (DataNewArticulo.nombre && ListaPuntos.length !== 0)">
        <a>
          <i class="fas fa-percent fa-3x"></i>
          <br>
          <b>Maneja Fracción</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="DataNewArticulo.maneja_fraccion &&
    ((DataNewArticulo.inventario && !DataNewArticulo.ventas && DataNewArticulo.unidadKardex) ||
    (!DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta) ||
    (DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta))
    && (DataNewArticulo.nombre && ListaPuntos.length !== 0)">
        <a (click)="ClickManejaFracion();">
         <i class="fas fa-percent fa-3x colorbotonNav"></i>
          <br>
          <b>Maneja Fracción</b>
        </a>
      </section>
    </section>

<br> -->
    <section class="row">
      <section class="col-md-2 centrarhorizontal" *ngIf="seccionPrincipal">
        <a (click)="ClickPrincipal()">
          <img src="assets/images/basket.png" width="40" height="40" class="btnReportes">
          <!-- <i class="fas fa-apple-alt fa-3x colorbotonNav"></i> -->
          <br>
          <b>Articulo</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="!seccionPrincipal">
        <a (click)="ClickPrincipal()">
          <img src="assets/images/basket-bn.png" width="40" height="40" class="btnReportes">
          <br>
          <b>Articulo</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="(DataNewArticulo.inventario
      || DataNewArticulo.compras) && (DataNewArticulo.nombre && ListaPuntos.length !== 0)
      && seccionInventario">
        <a (click)="ClickInventario();bindingSitiosAlmacenaje();">
          <img src="assets/images/check.png" width="40" height="40" class="btnReportes">
          <!-- <i class="fas fa-clipboard-list fa-3x colorbotonNav"></i> -->
          <br>
          <b>Inventario</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="(DataNewArticulo.inventario
      || DataNewArticulo.compras) && (DataNewArticulo.nombre && ListaPuntos.length !== 0)
      && !seccionInventario">
        <a (click)="ClickInventario();bindingSitiosAlmacenaje();">
          <img src="assets/images/check-bn.png" width="40" height="40" class="btnReportes">
          <!-- <i class="fas fa-clipboard-list fa-3x colorbotonNav"></i> -->
          <br>
          <b>Inventario</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="DataNewArticulo.ventas &&
      (DataNewArticulo.nombre && ListaPuntos.length !== 0) && seccionVentas">
        <a (click)="ClickVentas()">
          <img src="assets/images/bank.png" width="40" height="40" class="btnReportes">
          <!-- <i class="fas fa-hand-holding-usd fa-3x colorbotonNav"></i> -->
          <br>
          <b>Ventas</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="DataNewArticulo.ventas &&
      (DataNewArticulo.nombre && ListaPuntos.length !== 0) && !seccionVentas">
        <a (click)="ClickVentas()">
          <img src="assets/images/bank-bn.png" width="40" height="40" class="btnReportes">
          <!-- <i class="fas fa-hand-holding-usd fa-3x colorbotonNav"></i> -->
          <br>
          <b>Ventas</b>
        </a>
      </section>

      <!-- <section class="col-md-2 centrarhorizontal" *ngIf="!seccionReceta && (DataNewArticulo.receta
      && DataNewArticulo.nombre && ListaPuntos.length !== 0)">
        <a>
          <img src="assets/images/serving-dish-bn.png" width="40" height="40" class="btnReportes">
          <br>
          <b>Receta</b>
        </a>
      </section> -->
      <!-- {{DataNewArticulo.inventario}}
      {{DataNewArticulo.ventas}}
      {{DataNewArticulo.unidadKardex}}
      {{DataNewArticulo.seccionReceta}} -->
      <section class="col-md-2 centrarhorizontal" *ngIf="(DataNewArticulo.receta &&
      DataNewArticulo.nombre && ListaPuntos.length !== 0 && !seccionReceta && !seccionCrearReceta && !seccionModificarReceta ) &&
    ((DataNewArticulo.inventario && !DataNewArticulo.ventas && DataNewArticulo.unidadKardex != 0) ||
    (!DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta != 0) ||
    (DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta != 0) ||
    (DataNewArticulo.seleccion))">
        <a (click)="ClickReceta();LoadArticulosReceta()">
          <img src="assets/images/serving-dish-bn.png" width="40" height="40" class="btnReportes">
          <!-- <i class="fas fa-utensils fa-3x"></i> -->
          <br>
          <b>Receta</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="(DataNewArticulo.receta &&
      DataNewArticulo.nombre && ListaPuntos.length !== 0 && (seccionReceta || seccionCrearReceta || seccionModificarReceta)) &&
    ((DataNewArticulo.inventario && !DataNewArticulo.ventas && DataNewArticulo.unidadKardex) ||
    (!DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta) ||
    (DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta) ||
    (DataNewArticulo.seleccion))">
        <a (click)="ClickReceta();LoadArticulosReceta()">
          <img src="assets/images/serving-dish.png" width="40" height="40" class="btnReportes">
          <!-- <i class="fas fa-utensils fa-3x colorbotonNav"></i> -->
          <br>
          <b>Receta</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="DataNewArticulo.utilizaEmpaque &&
      (DataNewArticulo.nombre && ListaPuntos.length !== 0) && seccionEmpaques">
        <a (click)="ClickEmpaque();LoadArticulosEmpaque()">
          <img src="assets/images/boxes.png" width="40" height="40" class="btnReportes">
          <!-- <i class="fas fa-box-open fa-3x colorbotonNav"></i> -->
          <br>
          <b>Empaques</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="DataNewArticulo.utilizaEmpaque &&
      (DataNewArticulo.nombre && ListaPuntos.length !== 0) && !seccionEmpaques">
        <a (click)="ClickEmpaque();LoadArticulosEmpaque()">
          <img src="assets/images/boxes-bn.png" width="40" height="40" class="btnReportes">
          <!-- <i class="fas fa-box-open fa-3x colorbotonNav"></i> -->
          <br>
          <b>Empaques</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="DataNewArticulo.maneja_fraccion &&
    ((DataNewArticulo.inventario && !DataNewArticulo.ventas && DataNewArticulo.unidadKardex != 0) ||
    (!DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta != 0) ||
    (DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta != 0))
    && (DataNewArticulo.nombre && ListaPuntos.length !== 0 && !seccionManejaFraccion)">
        <a (click)="ClickManejaFraccion();">
          <img src="assets/images/wine-bottle-bn.png" width="40" height="40" class="btnReportes">
          <!-- <i class="fas fa-percent fa-3x"></i> -->
          <br>
          <b>Maneja Fracción</b>
        </a>
      </section>
      <section class="col-md-2 centrarhorizontal" *ngIf="DataNewArticulo.maneja_fraccion &&
    ((DataNewArticulo.inventario && !DataNewArticulo.ventas && DataNewArticulo.unidadKardex) ||
    (!DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta) ||
    (DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta))
    && (DataNewArticulo.nombre && ListaPuntos.length !== 0 && seccionManejaFraccion)">
        <a (click)="ClickManejaFraccion();">
          <img src="assets/images/wine-bottle.png" width="40" height="40" class="btnReportes">
          <!-- <i class="fas fa-percent fa-3x colorbotonNav"></i> -->
          <br>
          <b>Maneja Fracción</b>
        </a>
      </section>
    </section>


    <!-- <section class="row">
        <section class="col-md-2 centrarhorizontal">
          <a (click)="ClickPrincipal()">
            <img src="assets/images/basket-bn.png" width="40" height="40" class="btnReportes">

            <br>
            <b>Articulo</b>
          </a>
        </section>
        <section class="col-md-2 centrarhorizontal" *ngIf="(DataNewArticulo.inventario || DataNewArticulo.compras) && (DataNewArticulo.nombre && ListaPuntos.length !== 0)">
          <a (click)="ClickInventario();bindingSitiosAlmacenaje();">
            <img src="assets/images/check-bn.png" width="40" height="40" class="btnReportes">

            <br>
            <b>Inventario</b>
          </a>
        </section>
        <section class="col-md-2 centrarhorizontal" *ngIf="DataNewArticulo.ventas && (DataNewArticulo.nombre && ListaPuntos.length !== 0)">
          <a (click)="ClickVentas()">
            <img src="assets/images/bank-bn.png" width="40" height="40" class="btnReportes">

            <br>
            <b>Ventas</b>
          </a>
        </section>
        <section class="col-md-2 centrarhorizontal" *ngIf="(DataNewArticulo.receta &&
      ((DataNewArticulo.inventario && !DataNewArticulo.ventas && !DataNewArticulo.unidadKardex) ||
      (!DataNewArticulo.inventario && DataNewArticulo.ventas && !DataNewArticulo.idUnidadVenta) ||
      (DataNewArticulo.inventario && DataNewArticulo.ventas && !DataNewArticulo.idUnidadVenta)))
      && (DataNewArticulo.nombre && ListaPuntos.length !== 0)">
          <a>
            <img src="assets/images/serving-dish-bn.png" width="40" height="40" class="btnReportes">

            <br>
            <b>Receta</b>
          </a>
        </section>
        <section class="col-md-2 centrarhorizontal" *ngIf="(DataNewArticulo.receta &&
      ((DataNewArticulo.inventario && !DataNewArticulo.ventas && DataNewArticulo.unidadKardex) ||
      (!DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta) ||
      (DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta) ||
      DataNewArticulo.seleccion)) &&
      (DataNewArticulo.nombre && ListaPuntos.length !== 0)">
          <a (click)="ClickReceta();LoadArticulosReceta()">
            <img src="assets/images/serving-dish-bn.png" width="40" height="40" class="btnReportes">

            <br>
            <b>Receta</b>
          </a>
        </section>
        <section class="col-md-2 centrarhorizontal" *ngIf="DataNewArticulo.utilizaEmpaque && (DataNewArticulo.nombre && ListaPuntos.length !== 0)">
          <a (click)="ClickEmpaque();LoadArticulosEmpaque()">
            <img src="assets/images/boxes-bn.png" width="40" height="40" class="btnReportes">

            <br>
            <b>Empaques</b>
          </a>
        </section>
        <section class="col-md-2 centrarhorizontal" *ngIf="(DataNewArticulo.maneja_fraccion &&
      ((DataNewArticulo.inventario && !DataNewArticulo.ventas && !DataNewArticulo.unidadKardex) ||
      (!DataNewArticulo.inventario && DataNewArticulo.ventas && !DataNewArticulo.idUnidadVenta) ||
      (DataNewArticulo.inventario && DataNewArticulo.ventas && !DataNewArticulo.idUnidadVenta)))
      && (DataNewArticulo.nombre && ListaPuntos.length !== 0)">
          <a>
            <img src="assets/images/wine-bottle-bn.png" width="40" height="40" class="btnReportes">

            <br>
            <b>Maneja Fracción</b>
          </a>
        </section>
        <section class="col-md-2 centrarhorizontal" *ngIf="DataNewArticulo.maneja_fraccion &&
      ((DataNewArticulo.inventario && !DataNewArticulo.ventas && DataNewArticulo.unidadKardex) ||
      (!DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta) ||
      (DataNewArticulo.inventario && DataNewArticulo.ventas && DataNewArticulo.idUnidadVenta))
      && (DataNewArticulo.nombre && ListaPuntos.length !== 0)">
          <a (click)="ClickManejaFracion();">
            <img src="assets/images/wine-bottle-bn.png" width="40" height="40" class="btnReportes">

            <br>
            <b>Maneja Fracción</b>
          </a>
        </section>
      </section> -->
    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->
    <!-- *************************** DATOS BASICOS ********************************** -->
    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->

    <section *ngIf="seccionPrincipal">
      <br>
      <br>
      <p></p>
      <form #artUnoForm="ngForm">
        <div class="caja_cliente">
          <span class="tiulocaja-configuraciones"> Datos Articulo</span>

          <div class="row">
            <div class="col-md-3">
              <div class="form-group">
                <label for="nombre">Nombre Articulo
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="DataNewArticulo.nombre"
                  [(ngModel)]="DataNewArticulo.nombre" (keypress)="kPLetrasNum($event);" #nameArt="ngModel"
                  minlength="2" maxlength="100" required
                  [ngClass]="{'is-invalid': !nameArt.valid && (nameArt.dirty || nameArt.touched)}" />
                <span class="invalid-feedback" *ngIf="nameArt.errors && (nameArt.dirty || nameArt.touched)">
                  <li *ngIf=nameArt.errors.required>
                    El campo Nombre Articulo es obligatorio
                  </li>
                  <li *ngIf="nameArt.errors.minlength">
                    El campo Nombre Articulo debe ser mayor a 2 caracteres*
                  </li>
                </span>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <label for="codBarras">Código de barras:</label>
                <input type="text" class="form-control" name="DataNewArticulo.codBarras"
                  [(ngModel)]="DataNewArticulo.codBarras" #codBar="ngModel" minlength="1" maxlength="20"
                  [ngClass]="{'is-invalid': !codBar.valid && (codBar.dirty || codBar.touched)}" />
                <span class="invalid-feedback" *ngIf="codBar.errors && (codBar.dirty || codBar.touched)">
                  <li *ngIf="codBar.errors.minlength">
                    El campo Código de barras debe ser mayor a 1 caracteres*
                  </li>
                </span>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label for="nombre">Imagen del Articulo:</label>
                <div class="custom-file">
                  <input type="file" #Image accept="image/*" (change)="handleFileInput($event.target.files)"
                    class="custom-file-input">
                  <label for="logo" class="custom-file-label text-truncate">Selecciona una Imagen</label>
                  <small class="ml-3">Dimension de imagen recomendada 640x430 o mayor</small>

                </div>
              </div>
            </div>
            <div class="col-md-2">
              <div class="form-group">
                <img [src]="imageUrl" style="width:100px;height:100px" data-toggle="modal"
                  data-target="#ModalArticulos">
              </div>
            </div>

            <!--      <div class="col-md-4">
                <div class="form-group">
                  <input  type="file" #Image accept="image/*" (change)="handleFileInput($event.target.files)">
                  <img [src]="imageUrl" style="width:100px;height:100px" data-toggle="modal"
                  data-target="#exampleModal">
          </div>
          </div> -->


          </div>
        </div>
        <br>
        <br>
        <div class="caja_cliente">
          <span class="tiulocaja-configuraciones"> Caracteristicas</span>
          <div class="row">
            <div class="col-md-3">
              <div class="form-group">
                <input type="checkbox" name="DataNewArticulo.seleccion" id="seleccion"
                  [(ngModel)]="DataNewArticulo.seleccion"
                  [disabled]="DataNewArticulo.empaque || (DataNewArticulo.receta && DataNewArticulo.inventario)"
                  (ngModelChange)="LoadUnidadVenta();" />
                <!-- </div>
            </div>
            <div class="col-md-2">
              <div class="form-group"> -->
                <label for="seleccion">Se usa en selección:</label>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <input type="checkbox" name="DataNewArticulo.empaque" id="empaque" [(ngModel)]="DataNewArticulo.empaque"
                  (ngModelChange)="habilitarCheckInventario($event);" />
                <!--  </div>
            </div>
            <div class="col-md-2">
              <div class="form-group"> -->
                <label for="empaque">Es un empaque:</label>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <input type="checkbox" name="DataNewArticulo.compras" id="comprasmod"
                  [(ngModel)]="DataNewArticulo.compras" />
                <!-- </div>
            </div>
            <div class="col-md-2">
              <div class="form-group"> -->
                <label for="comprasmod">Compras:</label>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <input type="checkbox" name="DataNewArticulo.maneja_fraccion" id="maneja_fraccion"
                  [(ngModel)]="DataNewArticulo.maneja_fraccion" />
                <!-- </div>
            </div>
            <div class="col-md-2">
              <div class="form-group"> -->
                <label for="maneja_fraccion">Maneja fracción:</label>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3">
              <div class="form-group">
                <input type="checkbox" name="DataNewArticulo.inventario" id="inventario"
                  [(ngModel)]="DataNewArticulo.inventario"
                  [disabled]="DataNewArticulo.receta && DataNewArticulo.seleccion" />
                <!-- </div>
            </div>
            <div class="col-md-2">
              <div class="form-group"> -->
                <label for="inventario">Inventario:</label>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <input type="checkbox" name="DataNewArticulo.ventas" id="ventas" [(ngModel)]="DataNewArticulo.ventas"
                  (ngModelChange)="LoadUnidadVenta();" />
                <!-- </div>
            </div>
            <div class="col-md-2">
              <div class="form-group"> -->
                <label for="ventas">Ventas:</label>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <input type="checkbox" name="DataNewArticulo.receta" id="receta" [(ngModel)]="DataNewArticulo.receta"
                  [disabled]="DataNewArticulo.empaque || (DataNewArticulo.seleccion && DataNewArticulo.inventario)" />
                <!-- </div>
            </div>
            <div class="col-md-2">
              <div class="form-group"> -->
                <label for="receta">Receta:</label>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <input type="checkbox" name="DataNewArticulo.utilizaEmpaque" id="utilizaEmpaque"
                  [(ngModel)]="DataNewArticulo.utilizaEmpaque" [disabled]="DataNewArticulo.empaque"
                  (ngModelChange)="habilitarCheckVenta($event)" />
                <!-- </div>
            </div>
            <div class="col-md-2">
              <div class="form-group"> -->
                <label for="utilizaEmpaque">Utiliza Empaque:</label>
              </div>
            </div>
          </div>
          <p></p>
          <div class="row">
            <div class="col-md-4">
              <div class="form-group">
                <label for="todoslospun">Estará en todos los Puntos? :</label>
              </div>
            </div>
            <div class="col-md-1">
              <div class="form-group">
                <input type="checkbox" [checked]="TodoPuntos"
                  (change)="onChangeTodosPuntos(DataJsonPuntos, $event.target.checked);MostrarPuntosArticulo();"
                  name="DataNewArticulo.todosPuntos" [(ngModel)]="DataNewArticulo.todosPuntos" />
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4">
              <div class="form-group">
                <label>Estará en los siguientes Puntos</label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <a uiSrefActive="active" (click)="LimpiarFormPuntos()" role="button" data-toggle="modal"
                  data-target="#Puntos" data-placement="top" title="Puntos">
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                </a>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="ListaPuntos.length >= 1">
            <div class="col-md-12">
              <div class="tablaconfig">
                <div class="centrar buscar-paginacionconfig">
                  <div class="buscar-paginacion2">
                    <input type="text" class="form-control" name="searchStringPuntosCli" placeholder="Buscar"
                      [(ngModel)]="searchStringPuntosCli">
                  </div>
                  <div class="buscar-paginacion2">
                    <select class="form-control" name="itempagePuntosCli" [(ngModel)]="itempagePuntosCli">
                      <option value="5" selected="selected">Puntos Por Página</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="40">40</option>
                      <option value="50">50</option>
                    </select>
                  </div>
                </div>

                <div>
                  <div class="loading" *ngIf="loader">
                    <i class="fas fa-sync-alt fa-spin fa-3x"></i>
                  </div>
                  <div class="loadError" *ngIf="LoadError">
                    <div class="alert alert-danger">{{error}}</div>
                  </div>
                  <div *ngIf="LoadTabla">
                    <div class="panel-body table-responsive">
                      <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                        <thead>
                          <tr>
                            <th>Nombre Punto</th>
                            <th class="center">Acciones</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="odd gradeX"
                            *ngFor="let data of ListaPuntos | puntosselingresarart: searchStringPuntosCli | paginate: { itemsPerPage: itempagePuntosCli, currentPage: tp, id: 'tablapuntos' };  let i = index">
                            <td>{{data.nombre}}</td>
                            <td class="center">
                              <a (click)="QuitarPuntoArticulo(data, i)" uiSrefActive="active" role="button"
                                data-toggle="modal" data-target="#Inactivar" data-placement="top" title="Inactivar">
                                <img src="assets/images/delete.png" width="30" height="30" class="btnReportes">

                              </a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="centrarpaginacion">
                        <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="tp = $event" id="tablapuntos"></pagination-controls>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="centrar">
          <button type="button" class="btnbutton button" (click)="Regresar()">Anterior</button>
          <button type="submit" (click)="validarCodigoPlu(DataNewArticulo)" class="btnbutton button" [disabled]="!artUnoForm.valid || ListaPuntos.length === 0 ||
            (!DataNewArticulo.seleccion && !DataNewArticulo.empaque && !DataNewArticulo.inventario && !DataNewArticulo.ventas  && !DataNewArticulo.compras) ||
            (DataNewArticulo.receta && (!DataNewArticulo.inventario && !DataNewArticulo.ventas && !DataNewArticulo.seleccion )) ||
            (DataNewArticulo.utilizaEmpaque && !DataNewArticulo.ventas)">Guardar y Salir</button>


          <!-- <button *ngIf="(DataNewArticulo.seleccion || DataNewArticulo.empaque) && (!DataNewArticulo.ventas &&
            !DataNewArticulo.inventario && !DataNewArticulo.compras && !DataNewArticulo.receta && !DataNewArticulo.utilizaEmpaque)"
            type="button" (click)="onSubmit(DataNewArticulo);" class="btnbutton button" [disabled]="!artUnoForm.valid || ListaPuntos.length === 0 ||
            (!DataNewArticulo.seleccion && !DataNewArticulo.empaque && !DataNewArticulo.inventario && !DataNewArticulo.ventas  && !DataNewArticulo.compras) ||
            (DataNewArticulo.receta && (!DataNewArticulo.inventario && !DataNewArticulo.ventas && !DataNewArticulo.seleccion )) ||
            (DataNewArticulo.utilizaEmpaque && !DataNewArticulo.ventas)">Guardar</button> -->

        </div>
      </form>

    </section>

    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->
    <!-- *********************** INVENTARIO Y/O COMPRAS ***************************** -->
    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->
    <section *ngIf="seccionInventario">
      <br>
      <br>
      <p></p>
      <form #artDosForm="ngForm">
        <div class="caja_cliente">
          <span class="tiulocaja-configuraciones"> Datos Articulo</span>
          <div class="row">
            <div class="col-md-4">
              <div class="form-group">
                <label for="clase">Crear clase:</label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <a uiSrefActive="active" (click)="SetClases();" role="button" data-toggle="modal"
                  data-target="#CrearClase" data-placement="top" title="Clase">
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                </a>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4">
              <div class="form-group">
                <label for="clase">Crear grupo:</label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <a uiSrefActive="active" (click)="setGrupos();bindingClases(1)" role="button" data-toggle="modal"
                  data-target="#CrearGrupo" data-placement="top" title="Crear grupo">
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                </a>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4">
              <div class="form-group">
                <label for="nombre">Clase de Inventario
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DataNewArticulo.clase" [(ngModel)]="DataNewArticulo.clase"
                  (ngModelChange)="LoadGrupos($event)" #clasInv="ngModel" required
                  [ngClass]="{'is-invalid': !clasInv.valid && (clasInv.dirty || clasInv.touched)}">
                  <option [value]=""></option>
                  <option [value]="clases.id" *ngFor="let clases of DataArrayClases">{{clases.nombre}}</option>
                </select>
                <span class="invalid-feedback" *ngIf="clasInv.errors && (clasInv.dirty || clasInv.touched)">
                  <li *ngIf="clasInv.errors.required">
                    El campo clase de inventario es obligatorio
                  </li>
                </span>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label for="nombre">Grupo de Inventario
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DataNewArticulo.grupo" [(ngModel)]="DataNewArticulo.grupo"
                  #grupInv="ngModel" required
                  [ngClass]="{'is-invalid': !grupInv.valid && (grupInv.dirty || grupInv.touched)}">
                  <option [value]=""></option>
                  <option [value]="grupos.id" *ngFor="let grupos of DataArrayGrupos">{{grupos.nombre}}</option>
                </select>
                <span class="invalid-feedback" *ngIf="grupInv.errors && (grupInv.dirty || grupInv.touched)">
                  <li *ngIf="grupInv.errors.required">
                    El campo grupo de inventario es obligatorio
                  </li>
                </span>
              </div>
            </div>
            <div class="col-md-4" *ngIf="DataNewArticulo.inventario">
              <div class="form-group">
                <label for="nombre">Unidad de Kardex
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DataNewArticulo.unidadKardex"
                  [(ngModel)]="DataNewArticulo.unidadKardex" #uniKardex="ngModel"
                  (ngModelChange)="bindingUnidadKardex($event)" required
                  [ngClass]="{'is-invalid': !uniKardex.valid && (uniKardex.dirty || uniKardex.touched)}">
                  <option [value]=""></option>
                  <option [value]="unKardex.id" *ngFor="let unKardex of DataArrayUnidadKardex">{{unKardex.nombre}}
                  </option>
                </select>
                <span class="invalid-feedback" *ngIf="uniKardex.errors && (uniKardex.dirty || uniKardex.touched)">
                  <li *ngIf="uniKardex.errors.required">
                    El campo unidad de Kardex es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row"
            *ngIf="DataNewArticulo.inventario && (!DataNewArticulo.seleccion && !DataNewArticulo.empaque)">
            <div class="col-md-4">
              <div class="form-group">
                <label for="nombre">Unidad Alterna:</label>
                <select class="form-control" name="DataNewArticulo.unidadAlterna"
                  [(ngModel)]="DataNewArticulo.unidadAlterna" #uniAlterna="ngModel"
                  [ngClass]="{'is-invalid': !uniAlterna.valid && (uniAlterna.dirty || uniAlterna.touched)}">
                  <option [value]=""></option>
                  <option [value]="unAlterna.id" *ngFor="let unAlterna of DataArrayUnidadAlterna">{{unAlterna.nombre}}
                  </option>
                </select>
                <a (click)="clickCrearUnidadAlterna()">
                  <span class="enlace">Crear unidad alterna</span>
                </a>
                <span class="invalid-feedback" *ngIf="uniAlterna.errors && (uniAlterna.dirty || uniAlterna.touched)">
                </span>
              </div>
            </div>
            <div class="col-md-3 spaddi" *ngIf="clickUniAlterna">
              <div class="form-group">
                <label for="nombre">Nombre unidad alterna:</label>
                <div class="form-inline">
                  <input class="form-control" name="nombreUnidadAlterna" [(ngModel)]="nombreUnidadAlterna"
                    #nomUniAlterna="ngModel" minlength="1" maxlength="100"
                    [ngClass]="{'is-invalid': !nomUniAlterna.valid && (nomUniAlterna.dirty || nomUniAlterna.touched)}" />
                  <!-- <button type="submit" (click)="crearUnidadAlterna(nombreUnidadAlterna);" [disabled]="!nombreUnidadAlterna" class="btnPrimary">Crear</button> -->
                  <span class="invalid-feedback"
                    *ngIf="nomUniAlterna.errors && (nomUniAlterna.dirty || nomUniAlterna.touched)">
                    <li *ngIf="nomUniAlterna.errors.minlength">
                      El campo nombre de unidad alterna debe ser mayor a 1 caracter*
                    </li>
                  </span>
                </div>
              </div>
            </div>
            <div class="col-md-5 spaddi" *ngIf="clickUniAlterna">
              <div class="form-group">
                <label for="nombre">Abreviatura unidad alterna:</label>
                <div class="form-inline">
                  <input class="form-control" name="abreviaturaUniAlt" [(ngModel)]="abreviaturaUniAlt" #abrev="ngModel"
                    minlength="1" maxlength="100"
                    [ngClass]="{'is-invalid': !abrev.valid && (abrev.dirty || abrev.touched)}" />

                  <button type="submit" (click)="crearUnidadAlterna(nombreUnidadAlterna, abreviaturaUniAlt);"
                    [disabled]="!nombreUnidadAlterna || !abreviaturaUniAlt" class="btnhz btnPrimary">Crear</button>

                  <span class="invalid-feedback" *ngIf="abrev.errors && (abrev.dirty || abrev.touched)">
                    <li *ngIf="abrev.errors.minlength">
                      El campo abreviatura de unidad alterna debe ser mayor a 1 caracter*
                    </li>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <p></p>
          <div class="row" *ngIf="DataNewArticulo.inventario">
            <div class="col-md-4">
              <div class="form-group">
                <label for="desautrec">Este articulo hace descarga automatico por receta?:</label>
              </div>
            </div>
            <div class="col-md-2">
              <div class="form-group">
                <input type="checkbox" id="desautrec" name="DataNewArticulo.descarga_receta"
                  [(ngModel)]="DataNewArticulo.descarga_receta" />
              </div>
            </div>
          </div>
          <p></p>
          <div class="row" *ngIf="DataNewArticulo.inventario">
            <div class="col-md-4">
              <div class="form-group">
                <label for="manmaxmin">Desea Manejar Maximos y Minimos:</label>
              </div>
            </div>
            <div class="col-md-2">
              <div class="form-group">
                <input type="checkbox" id="manmaxmin" name="DataNewArticulo.MaxMin"
                  [(ngModel)]="DataNewArticulo.MaxMin" />
              </div>
            </div>
          </div>
        </div>
        <p></p>
        <div class="caja_cliente">
          <div class="row" *ngIf="DataNewArticulo.MaxMin === true">
            <div class="col-md-4">
              <div class="form-group">
                <label>Maximos y minimos</label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <a uiSrefActive="active" (click)="LimpiarFormMaximosMinimos();" role="button" data-toggle="modal"
                  data-target="#CrearMaxMin" data-placement="top" title="Maximos y minimos">
                  <!-- <img src="assets/images/plus.png" width="25" height="25" class="btnReportes"> -->
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">

                </a>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="ListaMaximosMinimos.length >= 1">
            <div class="col-md-12">
              <div class="tablaconfig">
                <div class="centrar buscar-paginacionconfig">
                  <div class="buscar-paginacion2">
                    <input type="text" class="form-control" name="searchStringMaxMin" placeholder="Buscar"
                      [(ngModel)]="searchStringMaxMin">
                  </div>
                  <div class="buscar-paginacion2">
                    <select class="form-control" name="itempageMaxMin" [(ngModel)]="itempageMaxMin">
                      <option value="5" selected="selected">Puntos Por Página</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="40">40</option>
                      <option value="50">50</option>
                    </select>
                  </div>
                </div>

                <div>
                  <div class="loading" *ngIf="loader">
                    <i class="fas fa-sync-alt fa-spin fa-3x"></i>
                  </div>
                  <div class="loadError" *ngIf="LoadError">
                    <div class="alert alert-danger">{{error}}</div>
                  </div>
                  <div *ngIf="LoadTabla">
                    <div class="panel-body table-responsive">
                      <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                        <thead>
                          <tr>
                            <th>Nombre Punto</th>
                            <th>Maximo</th>
                            <th>Minimo</th>
                            <th>Acciones</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="odd gradeX"
                            *ngFor="let data of ListaMaximosMinimos | maxminingresarart: searchStringMaxMin | paginate: { itemsPerPage: itempageMaxMin, currentPage: tmm, id : 'tablamaxmin' };  let i = index">
                            <td>{{data.nombrePunto}}</td>
                            <td>{{data.maximo}}</td>
                            <td>{{data.minimo}}</td>
                            <td>
                              <a (click)="BindingMaximoMinimo(data)" uiSrefActive="active" role="button"
                                data-toggle="modal" data-target="#ModificarMaximoMinimo" data-placement="top"
                                title="Modificar">
                                <img src="assets/images/editar.png" width="30" height="30" class="btnReportes">
                              </a>
                              <a (click)="QuitarMaximoMinimo(data)" uiSrefActive="active" role="button"
                                data-toggle="modal" data-target="#Inactivar" data-placement="top" title="Inactivar">
                                <img src="assets/images/delete.png" width="30" height="30" class="btnReportes">
                              </a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="centrarpaginacion">
                        <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="tmm = $event" id="tablamaxmin"></pagination-controls>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row"
            *ngIf="DataNewArticulo.compras || (DataNewArticulo.compras && DataNewArticulo.inventario && DataNewArticulo.unidadKardex !== 0)">
            <div class="col-md-4">
              <div class="form-group">
                <label>Unidad de compra</label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <a uiSrefActive="active"
                  (click)="LimpiarFormUnidadCompra();cargarUnidadKardex(DataNewArticulo.unidadKardex)" role="button"
                  data-toggle="modal" data-target="#UnidadCompra" data-placement="top" title="Unidad Compra">
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                </a>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="ListaUnidadesCompra.length >= 1">

            <div class="col-md-12">
              <div class="tablaconfig">
                <div class="centrar buscar-paginacionconfig">
                  <div class="buscar-paginacion2">
                    <input type="text" class="form-control" name="searchStringUniCompra" placeholder="Buscar"
                      [(ngModel)]="searchStringUniCompra">
                  </div>
                  <div class="buscar-paginacion2">
                    <select class="form-control" name="itempageUniCompra" [(ngModel)]="itempageUniCompra">
                      <option value="5" selected="selected">Unidades Por Página</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="40">40</option>
                      <option value="50">50</option>
                    </select>
                  </div>
                </div>

                <div>
                  <div class="loading" *ngIf="loader">
                    <i class="fas fa-sync-alt fa-spin fa-3x"></i>
                  </div>
                  <div class="loadError" *ngIf="LoadError">
                    <div class="alert alert-danger">{{error}}</div>
                  </div>
                  <div *ngIf="LoadTabla">
                    <div class="panel-body table-responsive">
                      <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                        <thead>
                          <tr>
                            <th *ngIf="DataNewArticulo.inventario">Cantidad Kardex</th>
                            <th *ngIf="DataNewArticulo.inventario">Unidad Kardex</th>
                            <th *ngIf="DataNewArticulo.inventario">Cantidad Compra</th>
                            <th>Unidad Compra</th>
                            <th>Acciones</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="odd gradeX"
                            *ngFor="let data of ListaUnidadesCompra | unidadesingresarart: searchStringUniCompra | paginate: { itemsPerPage: itempageUniCompra, currentPage: uc, id: 'unicom' };  let i = index ">
                            <td *ngIf="DataNewArticulo.inventario">{{data.cantidadKardex}}</td>
                            <td *ngIf="DataNewArticulo.inventario">{{data.nombreUniKardex}}</td>
                            <td *ngIf="DataNewArticulo.inventario">{{data.cantidadCompra}}</td>
                            <td>{{data.nombreUniCompra}}</td>
                            <td>
                              <a (click)="BindingUnidadCompra(data, DataNewArticulo.unidadKardex);cargarUnidadKardex(DataNewArticulo.unidadKardex)"
                                uiSrefActive="active" role="button" data-toggle="modal"
                                data-target="#ModificarUnidadCompra" data-placement="top" title="Modificar">
                                <img src="assets/images/editar.png" width="30" height="30" class="btnReportes">
                              </a>
                              <a (click)="QuitarUnidadCompra(data)" uiSrefActive="active" role="button"
                                data-toggle="modal" data-target="#Inactivar" data-placement="top" title="Inactivar">
                                <img src="assets/images/delete.png" width="30" height="30" class="btnReportes">
                              </a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="centrarpaginacion">
                        <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="uc = $event" id="unicom"></pagination-controls>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row" *ngIf="DataNewArticulo.inventario && UnicaBodInt">
            <div class="col-md-4">
              <div class="form-group">
                <label>Sitios de almacenaje</label>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="DataNewArticulo.inventario && UnicaBodInt">
            <div class="col-md-12">

              <div class="alert alert-warning" role="alert">
                <label>Esta funcionalidad se realiza provisionalmente en Sab!</label>
              </div>
            </div>
            <!-- <div class="col-md-4">
              <div class="form-group">
                <a uiSrefActive="active" (click)="LimpiarFormSitios();bindingSitiosAlmacenaje()" role="button"
                  data-toggle="modal" data-target="#SitiosAlm" data-placement="top" title="Sitios de almacenaje">
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                </a>
              </div>
            </div> -->
          </div>
          <div class="row" *ngIf="DataNewArticulo.inventario && tablaSitiosAlmacenaje">

            <div class="col-md-12">
              <div class="tablaconfig">
                <div class="centrar buscar-paginacionconfig">
                  <div class="buscar-paginacion2">
                    <input type="text" class="form-control" name="searchStringSitiosAlm" placeholder="Buscar"
                      [(ngModel)]="searchStringSitiosAlm">
                  </div>
                  <div class="buscar-paginacion2">
                    <select class="form-control" name="itempageSitiosAlm" [(ngModel)]="itempageSitiosAlm">
                      <option value="5" selected="selected">Sitios de Almacenaje Por Página</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="40">40</option>
                      <option value="50">50</option>
                    </select>
                  </div>
                </div>

                <div>
                  <div class="loading" *ngIf="loader">
                    <i class="fas fa-sync-alt fa-spin fa-3x"></i>
                  </div>
                  <div class="loadError" *ngIf="LoadError">
                    <div class="alert alert-danger">{{error}}</div>
                  </div>
                  <div *ngIf="LoadTabla">
                    <div class="panel-body table-responsive">
                      <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                        <thead>
                          <tr>
                            <th>Sitio de Almacenaje</th>
                            <th>Punto</th>
                            <th>Acciones</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="odd gradeX"
                            *ngFor="let data of ListaSitios | sitiosalmingresarart: searchStringSitiosAlm | paginate: { itemsPerPage: itempageSitiosAlm, currentPage: tsa, id: 'tablasitiosalm' };  let i = index ">
                            <td *ngIf="!data.bodega_interna">{{data.nombre_bodega}}</td>
                            <td *ngIf="!data.bodega_interna">{{data.nombre_punto}}</td>
                            <td *ngIf="!data.bodega_interna">
                              <a (click)="QuitarSitio(data)" uiSrefActive="active" role="button" data-toggle="modal"
                                data-target="#Inactivar" data-placement="top" title="Inactivar">
                                <img src="assets/images/delete.png" width="25" height="25" class="btnReportes">
                              </a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="centrarpaginacion">
                        <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="tsa = $event" id="tablasitiosalm"></pagination-controls>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
        <div class="centrar" *ngIf="DataNewArticulo.inventario">
          <button (click)="validarCodigoPlu(DataNewArticulo)"
            [disabled]="!artDosForm.valid || (DataNewArticulo.compras && ListaUnidadesCompra.length === 0) || (ListaSitios.length === 0 && !UnicaBodInt) || (DataNewArticulo.MaxMin === true && ListaMaximosMinimos.length === 0)"
            type="submit" class="btnbutton button">Guardar y Salir</button>
        </div>

        <div class="centrar" *ngIf="DataNewArticulo.compras &&
          !DataNewArticulo.inventario">
          <button (click)="validarCodigoPlu(DataNewArticulo)"
            [disabled]="!artDosForm.valid || ListaUnidadesCompra.length === 0" type="submit"
            class="btnbutton button">Guardar y Salir</button>
        </div>
      </form>
      <!-- <div class="centrar" *ngIf="DataNewArticulo.inventario &&
          !DataNewArticulo.ventas &&
          !DataNewArticulo.receta && !DataNewArticulo.utilizaEmpaque">
            <button type="button" class="btnbutton button">Anterior</button>
            <button (click)="onSubmit(DataNewArticulo)" [disabled]="!artDosForm.valid || (DataNewArticulo.compras && ListaUnidadesCompra.length === 0) || (ListaSitios.length === 0 && UnicaBodInt) || (DataNewArticulo.MaxMin === true && ListaMaximosMinimos.length === 0)"
              type="button" class="btnbutton button">Guardar y Salir1</button>
          </div>

          <div class="centrar" *ngIf="DataNewArticulo.compras &&
          !DataNewArticulo.inventario && !DataNewArticulo.ventas &&
          !DataNewArticulo.receta && !DataNewArticulo.utilizaEmpaque">
            <button type="button" class="btnbutton button">Anterior</button>
            <button (click)="onSubmit(DataNewArticulo)" [disabled]="!artDosForm.valid || ListaUnidadesCompra.length === 0"
              type="button" class="btnbutton button">Guardar y Salir2</button>
          </div>

          <div class="centrar" *ngIf="DataNewArticulo.inventario &&
          (DataNewArticulo.ventas ||
          DataNewArticulo.receta || DataNewArticulo.utilizaEmpaque)">
            <button type="button" class="btnbutton button">Anterior</button>
            <button type="button" [disabled]="!artDosForm.valid || (DataNewArticulo.compras && ListaUnidadesCompra.length === 0) || (ListaSitios.length === 0 && UnicaBodInt) || (DataNewArticulo.MaxMin === true && ListaMaximosMinimos.length === 0)"
              class="btnbutton button">Guardar y Salir3</button>
          </div> -->
    </section>


    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->
    <!-- ******************************** VENTAS ************************************ -->
    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->

    <section *ngIf="seccionVentas">
      <form #artTresForm="ngForm">
        <div class="caja_cliente">
          <form #ventaForm="ngForm">
            <div class="row">
              <div class="col-md-4">
                <div class="form-group">
                  <label for="clase">Crear clase:</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <a uiSrefActive="active" (click)="SetClases();" role="button" data-toggle="modal"
                    data-target="#CrearClase" data-placement="top" title="Clase">
                    <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                  </a>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <div class="form-group">
                  <label for="clase">Crear grupo:</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <a uiSrefActive="active" (click)="setGrupos();bindingClases(2)" role="button" data-toggle="modal"
                    data-target="#CrearGrupo" data-placement="top" title="Clase">
                    <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                  </a>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <div class="form-group">
                  <label for="nombre">Clase de Venta
                    <b class="asterisco">*</b>:</label>
                  <select class="form-control" name="DataNewArticulo.claseVenta"
                    [(ngModel)]="DataNewArticulo.claseVenta" (ngModelChange)="LoadGruposVenta($event)"
                    #clasVen="ngModel" required
                    [ngClass]="{'is-invalid': !clasVen.valid && (clasVen.dirty || clasVen.touched)}">
                    <option [value]=""></option>
                    <option [value]="clases.id" *ngFor="let clases of DataArrayClasesVenta">{{clases.nombre}}</option>
                  </select>
                  <span class="invalid-feedback" *ngIf="clasVen.errors && (clasVen.dirty || clasVen.touched)">
                    <li *ngIf="clasVen.errors.required">
                      El campo clase de venta es obligatorio
                    </li>
                  </span>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label for="nombre">Grupo de Venta
                    <b class="asterisco">*</b>:</label>
                  <select class="form-control" name="DataNewArticulo.grupoVenta"
                    [(ngModel)]="DataNewArticulo.grupoVenta" #grupVen="ngModel" required
                    (change)="CargarImpuestosVentas(DataNewArticulo.claseVenta, DataNewArticulo.grupoVenta)"
                    [ngClass]="{'is-invalid': !grupVen.valid && (grupVen.dirty || grupVen.touched)}">
                    <option [value]=""></option>
                    <option [value]="grupos.id" *ngFor="let grupos of DataArrayGruposVenta">{{grupos.nombre}}</option>
                  </select>
                  <span class="invalid-feedback" *ngIf="grupVen.errors && (grupVen.dirty || grupVen.touched)">
                    <li *ngIf="grupVen.errors.required">
                      El campo grupo de venta es obligatorio
                    </li>
                  </span>
                </div>
              </div>
              <div class="col-md-2" *ngIf="DataNewArticulo.maneja_codplu">
                <div class="form-group">
                  <label for="cplu">Codigo Plu
                    <b class="asterisco">*</b>:</label>

                  <input type="text" (keypress)="kPNumeros($event)" class="form-control"
                    name="DataNewArticulo.codigoplu" [(ngModel)]="DataNewArticulo.codigoplu" #codplu="ngModel" required
                    [ngClass]="{'is-invalid': !codplu.valid && (codplu.dirty || codplu.touched)}" />
                  <span class="invalid-feedback" *ngIf="codplu.errors && (codplu.dirty || codplu.touched)">
                    <li *ngIf="codplu.errors.required">
                      El campo Codigo Plu es obligatorio
                    </li>
                  </span>
                </div>
              </div>

              <div class="col-md-2" *ngIf="DataNewArticulo.maneja_codplu">
                <div class="form-group">
                  <label for="cplu">Codigo Plu Anterior:</label>

                  <input type="text" class="form-control" name="DataNewArticulo.codigopluanterior"
                    [(ngModel)]="DataNewArticulo.codigopluanterior" readonly />
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4">
                <div class="form-group">
                  <label for="nombre">Unidad de Venta:</label>
                  <select class="form-control" name="DataNewArticulo.idUnidadVenta"
                    [(ngModel)]="DataNewArticulo.idUnidadVenta" (ngModelChange)="bindingUnidadVenta($event)"
                    #uniVen="ngModel" required
                    [ngClass]="{'is-invalid': !uniVen.valid && (uniVen.dirty || uniVen.touched)}">
                    <option [value]=""></option>
                    <option [value]="unidven.id" *ngFor="let unidven of DataArrayUnidadVenta">{{unidven.nombre}}
                    </option>
                  </select>
                  <span class="invalid-feedback" *ngIf="uniVen.errors && (uniVen.dirty || uniVen.touched)">
                    <li *ngIf="uniVen.errors.required">
                      El campo Unidad de Venta es obligatorio
                    </li>
                  </span>
                </div>
              </div>

              <div class="col-md-4">
                <div class="form-group">
                  <label for="mancom">Maneja comisión
                    <b class="asterisco">*</b>:</label>

                  <input type="number" id="mancom" class="form-control" name="DataNewArticulo.maneja_comision"
                    [(ngModel)]="DataNewArticulo.maneja_comision" #mcom="ngModel"
                    [ngClass]="{'is-invalid': !mcom.valid && (mcom.dirty || mcom.touched)}" />
                  <span class="invalid-feedback" *ngIf="mcom.errors && (mcom.dirty || mcom.touched)">
                    <li *ngIf="mcom.errors.required">
                      El campo Maneja comisión es obligatorio
                    </li>
                  </span>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4">
                <div class="form-group">
                  <b>Maneja unidades de presentación </b>
                  <input type="checkbox" name="DataNewArticulo.maneja_und_presentacion"
                    [(ngModel)]="DataNewArticulo.maneja_und_presentacion" />
                </div>
              </div>
            </div>
          </form>
        </div>
        <br>

        <br>
        <div class="caja_cliente">
          <!--  <div class="row">
        <div class="col-md-4">
          <div class="form-group">
            <label>Asigne el articulo a un canal</label>
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <a uiSrefActive="active" role="button" data-toggle="modal" (click)="LimpiarFormCanalesVenta()" data-target="#CanalImpuesto"
              data-placement="top" title="Canales">
              <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
            </a>
          </div>
        </div>
      </div> -->

          <div class="row" *ngIf="DataCliente.impuesto_dif_canal === true">
            <div class="col-md-4">
              <label>Desea configurar impuesto diferencial</label>
            </div>
            <div class="col-md-3">
              <input type="radio" id="impdifsi" name="DataNewArticulo.impdif" [(ngModel)]="DataNewArticulo.impdif"
                [value]=0 required>
              <label for="impdifsi">SI</label>
            </div>
            <div class="col-md-3">
              <input type="radio" id="impdifno" name="DataNewArticulo.impdif" [(ngModel)]="DataNewArticulo.impdif"
                [value]=1 required>
              <label for="impdifno">NO</label>
            </div>
            <!-- <div class="col-md-3">
            <input type="radio" (click)="LimpiarFormTodosCanales()" name="DataNewArticulo.impdif" [(ngModel)]="DataNewArticulo.impdif"
              [value]=0 required>
            <b>SI</b>
          </div>
          <div class="col-md-3">
            <input type="radio" (click)="LimpiarTablaDifCanal()" name="DataNewArticulo.impdif" [(ngModel)]="DataNewArticulo.impdif" [value]=1
              required>
            <b>NO</b>
          </div> -->
          </div>

          <form #todosCanalForm="ngForm">
            <div class="row" *ngIf="DataNewArticulo.impdif === 0">
              <div class="col-md-4">
                <div class="form-group">
                  <label>Impuesto diferencial por canal</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <a uiSrefActive="active" (click)="LimpiarFormDifCanal()" role="button" data-toggle="modal"
                    data-target="#ImpuestoDiferente" data-placement="top" title="Impuesto">
                    <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                  </a>
                </div>
              </div>
            </div>
            <div class="row" *ngIf="DataCliente.impuesto_dif_canal === false || DataNewArticulo.impdif === 1">
              <div class="col-md-4">
                <div class="form-group">
                  <label>TODOS LOS CANALES</label>
                </div>
              </div>
            </div>
            <div class="row" *ngIf="DataCliente.impuesto_dif_canal === false || DataNewArticulo.impdif === 1">
              <div class="col-md-3">
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label>Impuesto</label>
                  <select class="form-control" name="DataNewArticulo.id_impuesto"
                    [(ngModel)]="DataNewArticulo.id_impuesto" #idImp="ngModel" required>
                    <option [value]=""></option>
                    <option [value]="datosImp.id_impuesto" *ngFor="let datosImp of DataJsonImpuesto">
                      {{datosImp.nombre_impuesto}}</option>
                  </select>
                </div>
              </div>
              <!-- </div>
              <div class="row"> -->
              <!-- <div class="col-md-3">
                  <label>Tarifa</label>
                </div> -->
              <div class="col-md-3">
                <div class="form-group">
                  <label>Tarifa</label>
                  <select class="form-control" name="DataNewArticulo.id_tarifa" [(ngModel)]="DataNewArticulo.id_tarifa"
                    #tar="ngModel" required>
                    <option [value]=""></option>
                    <option [value]="tar.id_tarifa" *ngFor="let tar of DataTarifas">{{tar.valor_tarifa}}</option>
                  </select>
                </div>
              </div>
              <div class="col-md-3">
              </div>
            </div>
            <!-- <div class="col-md-4">
              <div class="form-group">
                <a uiSrefActive="active" role="button" data-toggle="modal" data-target="#TodosCanales" data-placement="top" title="Impuesto">
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                </a>
              </div>
            </div> -->
            <!-- </div> -->
            <div class="row"
              *ngIf="canalInstitucional === true && (DataCliente.impuesto_dif_canal === false || DataNewArticulo.impdif === 1)">
              <div class="col-md-4">
                <div class="form-group">
                  <label>CANAL INSTITUCIONAL</label>
                </div>
              </div>
              <!-- <div class="col-md-4">
              <div class="form-group">
                <a uiSrefActive="active" role="button" data-toggle="modal" data-target="#CanalInstitucional" data-placement="top" title="Impuesto">
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                </a>
              </div>
            </div> -->
            </div>

            <div class="row"
              *ngIf="canalInstitucional === true && (DataCliente.impuesto_dif_canal === false || DataNewArticulo.impdif === 1)">
              <div class="col-md-3">
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label>Impuesto</label>
                  <select class="form-control" name="DataNewArticulo.id_impuestoIns"
                    [(ngModel)]="DataNewArticulo.id_impuestoIns" #idImpIns="ngModel" required>
                    <option [value]=""></option>
                    <option [value]="datosImp.id_impuesto" *ngFor="let datosImp of DataJsonImpuesto">
                      {{datosImp.nombre_impuesto}}</option>
                  </select>
                </div>
              </div>
              <!-- </div>
            <div class="row"> -->
              <!--  <div class="col-md-3">
                <label>Tarifa</label>
              </div> -->
              <div class="col-md-3">
                <div class="form-group">
                  <label>Tarifa</label>
                  <select class="form-control" name="DataNewArticulo.id_tarifaIns"
                    [(ngModel)]="DataNewArticulo.id_tarifaIns" #tarIns="ngModel" required>
                    <option [value]=""></option>
                    <option [value]="tar.id_tarifa" *ngFor="let tar of DataTarifas">{{tar.valor_tarifa}}</option>
                  </select>
                </div>
              </div>
              <div class="col-md-3">
              </div>
            </div>
          </form>
          <div class="row" *ngIf="DataNewArticulo.impdif === 0 && ListaArticuloCanal.length >= 1">

            <div class="col-md-12">
              <div class="tablaconfig">
                <div class="centrar buscar-paginacionconfig">
                  <div class="buscar-paginacion2">
                    <input type="text" class="form-control" name="searchStringCanalImp" placeholder="Buscar"
                      [(ngModel)]="searchStringCanalImp">
                  </div>
                  <div class="buscar-paginacion2">
                    <select class="form-control" name="itempageCanalImp" [(ngModel)]="itempageCanalImp">
                      <option value="5" selected="selected">Canales Por Página</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="40">40</option>
                      <option value="50">50</option>
                    </select>
                  </div>
                </div>

                <div>
                  <div class="loading" *ngIf="loader">
                    <i class="fas fa-sync-alt fa-spin fa-3x"></i>
                  </div>
                  <div class="loadError" *ngIf="LoadError">
                    <div class="alert alert-danger">{{error}}</div>
                  </div>
                  <div *ngIf="LoadTabla">
                    <div class="panel-body table-responsive">
                      <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                        <thead>
                          <tr>
                            <th>Canal</th>
                            <th>Impuesto</th>
                            <!-- <th>Regimen</th> -->
                            <th>Tarifa</th>
                            <th>Acciones</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="odd gradeX"
                            *ngFor="let data of ListaArticuloCanal | modalcanalimpuestoventaingart: searchStringCanalImp | paginate: { itemsPerPage: itempageCanalImp, currentPage: tac, id: 'tablaartcanal' };  let i = index ">
                            <td>{{data.nombre_canal}}</td>
                            <td>{{data.nombre_impuesto}}</td>
                            <!-- <td>{{data.nombre_regimen}}</td> -->
                            <td>{{data.valor_tarifa}}</td>
                            <td>
                              <a (click)="bindingCanalVenta(data)" uiSrefActive="active" role="button"
                                data-toggle="modal" data-target="#EliminarCanal" data-placement="top" title="Inactivar">
                                <img src="assets/images/delete.png" width="25" height="25" class="btnReportes">
                              </a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="centrarpaginacion">
                        <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="tac = $event" id="tablaartcanal"></pagination-controls>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <br>
        <div class="caja_cliente">
          <div class="row">
            <div class="col-md-3">
              <div class="form-group">
                <input type="checkbox" id="utiCosEs" name="DataNewArticulo.utilizaCosto"
                  [(ngModel)]="DataNewArticulo.utilizaCosto"
                  (ngModelChange)="ValidarCosto(DataNewArticulo.utilizaCosto)" />
                <label for="utiCosEs"> Utiliza Costo Estimado</label>
              </div>
            </div>
            <div class="col-md-4" *ngIf="DataNewArticulo.utilizaCosto">
              <div class="form-group">

                <label for="nombre">Costo Estimado
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="DataNewArticulo.costoEstimado"
                  [(ngModel)]="DataNewArticulo.costoEstimado" #cosEst="ngModel" minlength="2" maxlength="100" required
                  [ngClass]="{'is-invalid': !cosEst.valid && (cosEst.dirty || cosEst.touched)}" />
                <span class="invalid-feedback" *ngIf="cosEst.errors && (cosEst.dirty || cosEst.touched)">
                  <li *ngIf=cosEst.errors.required>
                    El campo Costo Estimado es obligatorio
                  </li>
                  <li *ngIf="cosEst.errors.minlength">
                    El campo Costo Estimado debe ser mayor a 2 caracteres*
                  </li>
                </span>
              </div>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-md-4">
              <div class="form-group">
                <label>Precios de Venta</label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <a uiSrefActive="active" role="button" data-toggle="modal" (click)="LimpiarFormUnidadPrincipal()"
                  data-target="#UnidadPrincipal" data-placement="top" title="Unidad principal">
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                </a>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="ListaUnidadesPrincipales.length >= 1 ">

            <div class="col-md-12">
              <div class="tablaconfig">
                <div class="centrar buscar-paginacionconfig">
                  <div class="buscar-paginacion2">
                    <input type="text" class="form-control" name="searchStringUniprincipal" placeholder="Buscar"
                      [(ngModel)]="searchStringUniprincipal">
                  </div>
                  <div class="buscar-paginacion2">
                    <select class="form-control" name="itempageUniprincipal" [(ngModel)]="itempageUniprincipal">
                      <option value="5" selected="selected">Unidades Por Página</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="40">40</option>
                      <option value="50">50</option>
                    </select>
                  </div>
                </div>

                <div>
                  <div class="loading" *ngIf="loader">
                    <i class="fas fa-sync-alt fa-spin fa-3x"></i>
                  </div>
                  <div class="loadError" *ngIf="LoadError">
                    <div class="alert alert-danger">{{error}}</div>
                  </div>
                  <div *ngIf="LoadTabla">
                    <div class="panel-body table-responsive">
                      <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                        <thead>
                          <tr>
                            <th>Costos</th>
                            <th>Valor venta</th>
                            <th>Margen de utilidad</th>
                            <th>Lista de precios</th>
                            <th class="centrar">Acciones</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="odd gradeX"
                            *ngFor="let data of ListaUnidadesPrincipales | tablacostosestimadoingart: searchStringUniprincipal | paginate: { itemsPerPage: itempageUniprincipal, currentPage: tup, id: 'tablaundprincipales' };  let i = index ">
                            <td>{{DataNewArticulo.costoEstimado | currency:'USD':true}}</td>
                            <td>{{data.valorventa | currency:'USD':true}}</td>
                            <td>
                              {{((data.valorventa - DataNewArticulo.costoEstimado) / data.valorventa) | percent:'1.2-2'}}
                            </td>
                            <td>{{data.nombreListaPrecios}}</td>
                            <td>
                              <a (click)="BindingUnidadPrincipal(data)" uiSrefActive="active" role="button"
                                data-toggle="modal" data-target="#ModificarUnidadPrincipal" data-placement="top"
                                title="Modificar">
                                <img src="assets/images/editar.png" width="25" height="25" class="btnReportes">
                              </a>
                              <a (click)="QuitarUnidadPrincipal(data)" uiSrefActive="active" role="button"
                                data-toggle="modal" data-target="#Inactivar" data-placement="top" title="Inactivar">
                                <img src="assets/images/delete.png" width="25" height="25" class="btnReportes">
                              </a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="centrarpaginacion">
                        <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="tup = $event" id="tablaundprincipales"></pagination-controls>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <br>

          <div class="row" *ngIf="DataNewArticulo.maneja_und_presentacion">
            <div class="col-md-4">
              <div class="form-group">
                <label>Unidades de presentación</label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <a uiSrefActive="active" (click)="LimpiarFormUnidadPresentacion()" role="button" data-toggle="modal"
                  data-target="#UnidadesPresentacion" data-placement="top" title="Unidad de presentacion">
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                </a>
              </div>
            </div>
          </div>

          <div class="row" *ngIf="ListaUnidadesPresentacion.length >= 1 && DataNewArticulo.maneja_und_presentacion">

            <div class="col-md-12">
              <div class="tablaconfig">
                <div class="centrar buscar-paginacionconfig">
                  <div class="buscar-paginacion2">
                    <input type="text" class="form-control" name="searchStringTUniPresenta" placeholder="Buscar"
                      [(ngModel)]="searchStringTUniPresenta">
                  </div>
                  <div class="buscar-paginacion2">
                    <select class="form-control" name="itempageTUniPresenta" [(ngModel)]="itempageTUniPresenta">
                      <option value="5" selected="selected">Unidad Presentación Por Página</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="40">40</option>
                      <option value="50">50</option>
                    </select>
                  </div>
                </div>

                <div>
                  <!-- <div class="loading" *ngIf="loader">
                <i class="fas fa-sync-alt fa-spin fa-3x"></i>
              </div>
              <div class="loadError" *ngIf="LoadError">
                <div class="alert alert-danger">{{error}}</div>
              </div>
              <div *ngIf="LoadTabla"> -->
                  <div class="panel-body table-responsive">
                    <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                      <thead>
                        <tr>
                          <th>Unidad presentación</th>
                          <th>Lista precios</th>
                          <th>Valor venta</th>
                          <th class="centrar">Acciones</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr class="odd gradeX"
                          *ngFor="let data of ListaUnidadesPresentacion | tablaunidadespresentacion: searchStringTUniPresenta | paginate: { itemsPerPage: itempageTUniPresenta, currentPage: tup, id: 'tablaundpresentacion' };  let i = index ">
                          <td>{{data.nombreUniPresentacion}}</td>
                          <td>{{data.nombreListaPrecios}}</td>
                          <td>{{data.valorventa}}</td>
                          <td class="centrar">
                            <!-- <a (click)="BindingUnidadPresentacion(data)" uiSrefActive="active" role="button" data-toggle="modal" data-target="#ModificarUnidadPresentacion"
                            data-placement="top" title="Modificar">
                            <img src="assets/images/editar.png" width="30" height="30" class="btnReportes">
                          </a> -->
                            <a (click)="QuitarUnidadPresentacion(data)" uiSrefActive="active" role="button"
                              data-toggle="modal" data-target="#Inactivar" data-placement="top" title="Inactivar">
                              <img src="assets/images/delete.png" width="25" height="25" class="btnReportes">
                            </a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <div class="centrarpaginacion">
                      <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="tup = $event" id="tablaundpresentacion"></pagination-controls>
                    </div>
                  </div>
                  <!-- </div> -->
                </div>
              </div>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-md-4">
              <div class="form-group">
                <label>Grupos de Seleccion</label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <a (click)="LimpiarFormGruSeleccion()" uiSrefActive="active" role="button" data-toggle="modal"
                  data-target="#GruposSeleccion" data-placement="top" title="Grupos Seleccion">
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                </a>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="tablaGruposSelVenta">

            <div class="col-md-12">
              <div class="tablaconfig">
                <div class="centrar buscar-paginacionconfig">
                  <div class="buscar-paginacion2">
                    <input type="text" class="form-control" name="searchStringTGrupoSel" placeholder="Buscar"
                      [(ngModel)]="searchStringTGrupoSel">
                  </div>
                  <div class="buscar-paginacion2">
                    <select class="form-control" name="itempageTGrupoSel" [(ngModel)]="itempageTGrupoSel">
                      <option value="5" selected="selected">Grupos Por Página</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="40">40</option>
                      <option value="50">50</option>
                    </select>
                  </div>
                </div>

                <div>
                  <div class="loading" *ngIf="loader">
                    <i class="fas fa-sync-alt fa-spin fa-3x"></i>
                  </div>
                  <div class="loadError" *ngIf="LoadError">
                    <div class="alert alert-danger">{{error}}</div>
                  </div>
                  <div *ngIf="LoadTabla">
                    <div class="panel-body table-responsive">
                      <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                        <thead>
                          <tr>
                            <th>Nombre Grupo</th>
                            <th>Cantidad</th>
                            <th>Imprimir</th>
                            <th>Ver</th>
                            <th class="center">Acciones</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="odd gradeX"
                            *ngFor="let data of ListaGruposSelVenta | modalgruposseleccioningart: searchStringTGrupoSel | paginate: { itemsPerPage: itempageTGrupoSel, currentPage: tgs, id: 'tablagrupossel' };  let i = index ">
                            <td>{{data.nombre}}</td>
                            <td>{{data.cantidad}}</td>
                            <td>{{data.imprimir}}</td>
                            <td>{{data.ver}}</td>
                            <td class="center">
                              <a (click)="BindingGrupoSeleccion(data)" uiSrefActive="active" role="button"
                                data-toggle="modal" data-target="#ModificarGrupoSeleccion" data-placement="top"
                                title="Modificar">
                                <img src="assets/images/editar.png" width="25" height="25" class="btnReportes">
                              </a>
                              <a (click)="QuitarGrupoSeleccion(data)" uiSrefActive="active" role="button"
                                data-toggle="modal" data-target="#Inactivar" data-placement="top" title="Inactivar">
                                <img src="assets/images/delete.png" width="25" height="25" class="btnReportes">
                              </a>
                              <a (click)="Ascender(data)" uiSrefActive="active" role="button" data-toggle="top"
                                data-placement="top" title="Ascender">
                                <img src="assets/images/up.png" width="25" height="25" class="btnReportes">
                              </a>
                              <a (click)="Descender(data)" uiSrefActive="active" role="button" data-toggle="top"
                                data-placement="top" title="Descender">
                                <img src="assets/images/down.png" width="25" height="25" class="btnReportes">
                              </a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="centrarpaginacion">
                        <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="tgs = $event" id="tablagrupossel"></pagination-controls>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--
      <div class="centrar" *ngIf="DataNewArticulo.ventas &&
            !DataNewArticulo.receta && !DataNewArticulo.utilizaEmpaque">
              <button type="button" class="btnbutton button" awPreviousStep>Anterior</button>
              <button (click)="onSubmit(DataNewArticulo)" type="button" class="btnbutton button"
              [disabled]="!ventaForm.valid || ListaArticuloCanal.length === 0 || ListaUnidadesPrincipales.length === 0"
              awNextStep>Guardar</button>
            </div>

            <div class="centrar" *ngIf="DataNewArticulo.ventas &&
            (DataNewArticulo.receta || DataNewArticulo.utilizaEmpaque)">
              <button type="button" class="btnbutton button" awPreviousStep>Anterior</button>
              <button type="button" class="btnbutton button"
              [disabled]="!ventaForm.valid || ListaArticuloCanal.length === 0 || ListaUnidadesPrincipales.length === 0"
              awNextStep>Siguiente</button>
            </div>
      -->

        <div class="centrar">
          <button (click)="validarCodigoPlu(DataNewArticulo)" type="submit" class="btnbutton button"
            [disabled]="!ventaForm.valid || ListaUnidadesPrincipales.length === 0">Guardar y Salir</button>
        </div>
      </form>
    </section>


    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->
    <!-- ****************************** RECETAS  ************************************ -->
    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->

    <section *ngIf="seccionReceta">
      <form #artCuatroForm="ngForm">
        <div class="caja_cliente">


          <div class="row centrar">
            <div class="col-md-12">
              <div class="btnrouterlinkconfig" *ngIf="tablaRecetasActivas"
                (click)="LimpiarFormReceta();ClickCrearReceta();bindingUnidadBase();LoadCanalesCliente();LoadUnidadIngredientes();"
                title="Crear Receta">
                <a>
                  <span class="pull-left">Crear Receta</span>
                  <span class="pull-right">
                    <i class="fa fa-arrow-circle-right"></i>
                  </span>
                  <div class="clearfix"></div>
                </a>
              </div>
              <div class="btnrouterlinkconfig" *ngIf="tablaRecetasActivas" (click)="LimpiarFormImportar();"
                uiSrefActive="active" role="button" data-toggle="modal" data-target="#Importar" title="Importar Receta">
                <a>
                  <span class="pull-left">Copiar Receta</span>
                  <span class="pull-right">
                    <i class="fa fa-arrow-circle-right"></i>
                  </span>
                  <div class="clearfix"></div>
                </a>
              </div>
              <div class="btnrouterlinkconfig" *ngIf="tablaRecetasActivas" (click)="ClickRecetasInactivas()">
                <a>
                  <span class="pull-left">Recetas Inactivas</span>
                  <span class="pull-right">
                    <i class="fa fa-arrow-circle-right"></i>
                  </span>
                  <div class="clearfix"></div>
                </a>
              </div>
              <div class="btnrouterlinkconfig" *ngIf="!tablaRecetasActivas" (click)="ClickRecetasInactivas()">
                <a>
                  <span class="pull-left">Recetas Activas</span>
                  <span class="pull-right">
                    <i class="fa fa-arrow-circle-right"></i>
                  </span>
                  <div class="clearfix"></div>
                </a>
              </div>
            </div>
          </div>
          <div class="tablaconfig">
            <div class="centrar buscar-paginacionconfig">
              <div class="buscar-paginacion2">
                <input type="text" class="form-control" name="searchStringRecAct" placeholder="Buscar"
                  [(ngModel)]="searchStringRecAct">
              </div>
              <div class="buscar-paginacion2">
                <select class="form-control" name="itempageRecAct" [(ngModel)]="itempageRecAct">
                  <option value="5" selected="selected">Recetas Por Página</option>
                  <option value="5">5</option>
                  <option value="10">10</option>
                  <option value="20">20</option>
                  <option value="40">40</option>
                  <option value="50">50</option>
                </select>
              </div>
            </div>

            <div *ngIf="tablaRecetasActivas">
              <div *ngIf="DataJsonReceta.length >= 1">
                <div class="panel-body table-responsive">
                  <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                    <thead>
                      <tr>
                        <th>Nombre</th>
                        <th>Unidad</th>
                        <th>Cantidad</th>
                        <th class="center">Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="odd gradeX"
                        *ngFor="let data of DataJsonReceta | recetasactivasingart : searchStringRecAct | paginate: { itemsPerPage: itempageRecAct, currentPage: tra, id: 'tablarecetasactivas' }">
                        <td>{{data.nombre}}</td>
                        <td>{{data.nombre_unidad}}</td>
                        <td>{{data.cantidad}}</td>
                        <td class="center">
                          <div>
                            <a (click)="bindingDataEliminarReceta(data)" uiSrefActive="active" role="button"
                              data-toggle="modal" data-target="#EliminarReceta" data-placement="top" title="Eliminar">
                              <img src="assets/images/delete.png" width="30" height="30" class="btnReportes">
                            </a>
                            <a (click)="bindingDataInactivarReceta(data)" uiSrefActive="active" role="button"
                              data-toggle="modal" data-target="#InactivarReceta" data-placement="top" title="Inactivar">
                              <img src="assets/images/close.png" width="30" height="30" class="btnReportes">
                            </a>
                            <a (click)="ClickModificarReceta();bindingModificarReceta(data)" uiSrefActive="active"
                              role="button" data-toggle="tooltip" data-placement="top" title="Modificar">
                              <img src="assets/images/editar.png" width="30" height="30" class="btnReportes">
                            </a>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="centrarpaginacion">
                    <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="tra = $event" id="tablarecetasactivas"></pagination-controls>
                  </div>
                </div>

              </div>
              <div *ngIf="DataJsonReceta.length === 0">
                <div class="panel-body table-responsive">
                  <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                    <thead>
                      <tr>
                        <th>Nombre</th>
                        <th>Unidad</th>
                        <th>Cantidad</th>
                        <th class="center">Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="odd gradeX">
                        <td colspan="4" class="center">No hay Registros</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <div *ngIf="!tablaRecetasActivas">
              <div *ngIf="DataJsonRecetaInactivas.length >= 1">
                <div class="panel-body table-responsive">
                  <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                    <thead>
                      <tr>
                        <th>Nombre</th>
                        <th>Unidad</th>
                        <th>Cantidad</th>
                        <th class="center">Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="odd gradeX"
                        *ngFor="let data of DataJsonRecetaInactivas | recetasactivasingart : searchStringRecAct | paginate: { itemsPerPage: itempageRecAct, currentPage: tra, id: 'tablarecetasactivas' }">
                        <td>{{data.nombre}}</td>
                        <td>{{data.nombre_unidad}}</td>
                        <td>{{data.cantidad}}</td>
                        <td class="center">
                          <div>
                            <a (click)="bindingDataActivarReceta(data)" uiSrefActive="active" role="button"
                              data-toggle="modal" data-target="#ActivarReceta" data-placement="top" title="Activar">
                              <img src="assets/images/active.png" width="30" height="30" class="btnReportes">
                            </a>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="centrarpaginacion">
                    <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="tra = $event" id="tablarecetasactivas"></pagination-controls>
                  </div>
                </div>

              </div>
              <div *ngIf="DataJsonRecetaInactivas.length === 0">
                <div class="panel-body table-responsive">
                  <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                    <thead>
                      <tr>
                        <th>Nombre</th>
                        <th>Unidad</th>
                        <th>Cantidad</th>
                        <th class="center">Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="odd gradeX">
                        <td colspan="4" class="center">No hay Registros</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>



          </div>
        </div>

        <div class="centrar">
          <button type="submit" class="btnbutton button" [disabled]=" DataJsonReceta.length === 0"
            (click)="validarCodigoPlu(DataNewArticulo)">Guardar y Salir</button>
        </div>
      </form>
    </section>

    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->
    <!-- **************************** CREAR RECETA ********************************** -->
    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->

    <section *ngIf="seccionCrearReceta">
      <form #artCincoForm="ngForm">
        <div class="caja_cliente">
          <div class="row" *ngIf="DataNewArticulo.receta_dif_canal">
            <div class="col-md-4">
              <div class="form-group">
                <label>Canales</label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <a (click)="LimpiarFormCanalesReceta()" uiSrefActive="active" role="button" data-toggle="modal"
                  data-target="#CanalReceta" data-placement="top" title="Canales">
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                </a>
              </div>
            </div>
          </div>

          <div class="row" *ngIf="DataNewArticulo.receta_dif_canal && ListaCanalesReceta.length >=1">

            <div class="col-md-12">
              <div class="tablaconfig">
                <div class="centrar buscar-paginacionconfig">
                  <div class="buscar-paginacion2">
                    <input type="text" class="form-control" name="searchStringTCanalReceta" placeholder="Buscar"
                      [(ngModel)]="searchStringTCanalReceta">
                  </div>
                  <div class="buscar-paginacion2">
                    <select class="form-control" name="itempageTCanalReceta" [(ngModel)]="itempageTCanalReceta">
                      <option value="5" selected="selected">Canal Por Página</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="40">40</option>
                      <option value="50">50</option>
                    </select>
                  </div>
                </div>

                <div>
                  <div class="panel-body table-responsive">
                    <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                      <thead>
                        <tr>
                          <th>Canal</th>
                          <th class="centrarhoz">Acciones</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr class="odd gradeX"
                          *ngFor="let data of ListaCanalesReceta | modalpuntosrecetaingart: searchStringTCanalReceta | paginate: { itemsPerPage: itempageTCanalReceta, currentPage: tcr, id: 'tablacanalreceta' };  let i = index ">
                          <td>{{data.nombre}}</td>
                          <td class="centrarhoz">
                            <a (click)="QuitarCanalRec(data)" uiSrefActive="active" role="button" data-toggle="modal"
                              data-target="#Inactivar" data-placement="top" title="Eliminar">
                              <img src="assets/images/delete.png" width="30" height="30" class="btnReportes">
                            </a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <div class="centrarpaginacion">
                      <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="tcr = $event" id="tablacanalreceta"></pagination-controls>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <br>
          <form #recetaForm="ngForm">
            <div class="row" *ngIf="DataNewArticulo.receta_dif_canal">
              <div class="col-md-4">
                <div class="form-group">
                  <label for="nombre">Nombre Receta
                    <b class="asterisco">*</b>:</label>
                  <input type="text" class="form-control" name="DataNewReceta.nombreReceta"
                    [(ngModel)]="DataNewReceta.nombreReceta" #nameRec="ngModel" minlength="2" maxlength="100" required
                    [ngClass]="{'is-invalid': !nameRec.valid && (nameRec.dirty || nameRec.touched)}" />
                  <span class="invalid-feedback" *ngIf="nameRec.errors && (nameRec.dirty || nameRec.touched)">
                    <li *ngIf=nameRec.errors.required>
                      El campo Nombre Receta es obligatorio
                    </li>
                    <li *ngIf="nameRec.errors.minlength">
                      El campo Nombre Receta debe ser mayor a 2 caracteres*
                    </li>
                  </span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="nombre">Receta para
                    <b class="asterisco">*</b>:</label>
                  <input type="text" class="form-control" name="DataNewReceta.cantidadReceta"
                    [(ngModel)]="DataNewReceta.cantidadReceta" #canRec="ngModel" (keypress)="kPNumerosPuntos($event)"
                    minlength="1" maxlength="100" required
                    [ngClass]="{'is-invalid': !canRec.valid && (canRec.dirty || canRec.touched)}" />
                  <span class="invalid-feedback" *ngIf="canRec.errors && (canRec.dirty || canRec.touched)">
                    <li *ngIf=canRec.errors.required>
                      El campo Receta para es obligatorio
                    </li>
                    <li *ngIf="canRec.errors.minlength">
                      El campo Receta para debe ser mayor a 1 caracter*
                    </li>
                  </span>
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group">
                  <label for="nombre">Unidad
                    <b class="asterisco">*</b>:</label>
                  <select class="form-control" name="DataNewReceta.unidadBase" [(ngModel)]="DataNewReceta.unidadBase"
                    #uniBase="ngModel" required
                    [ngClass]="{'is-invalid': !uniBase.valid && (uniBase.dirty || uniBase.touched)}">
                    <option [value]="ub.id" *ngFor="let ub of DataArrayUnidadBase">{{ub.nombre}}</option>
                  </select>
                  <span class="invalid-feedback" *ngIf="uniBase.errors && (uniBase.dirty || uniBase.touched)">
                    <li *ngIf="uniBase.errors.required">
                      El campo unidad de Base es obligatorio
                    </li>
                  </span>
                </div>
              </div>

            </div>
          </form>
          <div class="row">
            <div class="col-md-4">
              <div class="form-group">
                <label>Ingredientes</label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <a (click)="LimpiarFormIngredientes()" uiSrefActive="active" role="button" data-toggle="modal"
                  data-target="#Ingredientes" data-placement="top" title="Ingredientes">
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                </a>
              </div>
            </div>
          </div>


          <div class="row" *ngIf="ListaIngredientes.length >= 1">

            <div class="col-md-12">
              <div class="tablaconfig">
                <div class="centrar buscar-paginacionconfig">
                  <div class="buscar-paginacion2">
                    <input type="text" class="form-control" name="searchStringTIngredientes" placeholder="Buscar"
                      [(ngModel)]="searchStringTIngredientes">
                  </div>
                  <div class="buscar-paginacion2">
                    <select class="form-control" name="itempageTIngredientes" [(ngModel)]="itempageTIngredientes">
                      <option value="5" selected="selected">Ingredientes Por Página</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="40">40</option>
                      <option value="50">50</option>
                    </select>
                  </div>
                </div>

                <div>
                  <div class="loading" *ngIf="loader">
                    <i class="fas fa-sync-alt fa-spin fa-3x"></i>
                  </div>
                  <div class="loadError" *ngIf="LoadError">
                    <div class="alert alert-danger">{{error}}</div>
                  </div>
                  <div *ngIf="LoadTabla">
                    <div class="panel-body table-responsive">
                      <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                        <thead>
                          <tr>
                            <th>Articulo</th>
                            <th>Cantidad</th>
                            <th>Unidad</th>
                            <th class="center">Acciones</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="odd gradeX"
                            *ngFor="let data of ListaIngredientes | modalingredientesrecetaingart: searchStringTIngredientes | paginate: { itemsPerPage: itempageTIngredientes, currentPage: ti, id: 'tablaingre' };  let i = index ">
                            <td>{{data.nombre_articulo}}</td>
                            <td>{{data.cantidad}}</td>
                            <td>{{data.nom_unidad}}</td>
                            <td class="center">
                              <a (click)="BindingIngrediente(data)" uiSrefActive="active" role="button"
                                data-toggle="modal" data-target="#ModificarIngrediente" data-placement="top"
                                title="Modificar">
                                <img src="assets/images/editar.png" width="30" height="30" class="btnReportes">
                              </a>
                              <a (click)="QuitarIngrediente(data)" uiSrefActive="active" role="button"
                                data-toggle="modal" data-target="#Inactivar" data-placement="top" title="Inactivar">
                                <img src="assets/images/delete.png" width="30" height="30" class="btnReportes">
                              </a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="centrarpaginacion">
                        <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="ti = $event" id="tablaingre"></pagination-controls>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="Preparacion">Preparación:</label>
                <textarea rows="6" name="DataNewReceta.preparacion" class="form-control"
                  [(ngModel)]="DataNewReceta.preparacion" #prep="ngModel"
                  [ngClass]="{'is-invalid': !prep.valid && (prep.dirty || prep.touched)}"></textarea>
                <span class="invalid-feedback" *ngIf="prep.errors && (prep.dirty || prep.touched)">
                  <li *ngIf=prep.errors.required>
                    El campo preparacion es obligatorio
                  </li>
                  <li *ngIf="prep.errors.minlength">
                    El campo preparacion debe ser mayor a 2 caracteres*
                  </li>
                </span>
              </div>
            </div>
          </div>

        </div>
        <div class="centrar">
          <button (click)="crearReceta(DataNewReceta);SalirReceta(3)" [disabled]="!recetaForm.valid ||
        ListaIngredientes.length === 0 || (DataNewArticulo.receta_dif_canal &&
        ListaCanalesReceta.length === 0)" type="submit" class="btnbutton btnbuttoncompras">Guardar</button>
        </div>

        <!-- <div class="centrar" *ngIf="DataNewArticulo.receta &&
          !DataNewArticulo.utilizaEmpaque">
            <button type="button" class="btnbutton button" awPreviousStep>Anterior</button>
            <button (click)="onSubmit(DataNewArticulo)" type="button" class="btnbutton button"
            [disabled]="(DataNewArticulo.receta_dif_punto && ListaPuntosReceta.length === 0) || (DataNewArticulo.receta_dif_canal && ListaCanalesReceta.length === 0)
            || !recetaForm.valid || ListaIngredientes.length === 0"
            awNextStep>Guardar</button>
          </div>

          <div class="centrar" *ngIf="DataNewArticulo.receta &&
          DataNewArticulo.utilizaEmpaque">
            <button type="button" class="btnbutton button" awPreviousStep>Anterior</button>
            <button type="button" class="btnbutton button"
            [disabled]="(DataNewArticulo.receta_dif_punto && ListaPuntosReceta.length === 0) || (DataNewArticulo.receta_dif_canal && ListaCanalesReceta.length === 0)
            || !recetaForm.valid || ListaIngredientes.length === 0"
            awNextStep>Siguiente</button>
          </div> -->
      </form>

    </section>


    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->
    <!-- ************************** MODIFICAR RECETA ******************************** -->
    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->

    <section *ngIf="seccionModificarReceta">
      <form #artSeisForm="ngForm">
        <div class="caja_cliente">
          <div class="row" *ngIf="DataNewArticulo.receta_dif_canal">
            <div class="col-md-4">
              <div class="form-group">
                <label>Canales</label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <a (click)="LimpiarFormCanalesReceta()" uiSrefActive="active" role="button" data-toggle="modal"
                  data-target="#CanalReceta" data-placement="top" title="Canales">
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                </a>
              </div>
            </div>
          </div>

          <div class="row" *ngIf="DataNewArticulo.receta_dif_canal && ListaCanalesReceta.length >= 1">
            <div class="tablaconfig">
              <div class="centrar buscar-paginacionconfig">
                <div class="buscar-paginacion2">
                  <input type="text" class="form-control" name="searchStringTCanalReceta" placeholder="Buscar"
                    [(ngModel)]="searchStringTCanalReceta">
                </div>
                <div class="buscar-paginacion2">
                  <select class="form-control" name="itempageTCanalReceta" [(ngModel)]="itempageTCanalReceta">
                    <option value="5" selected="selected">Canal Por Página</option>
                    <option value="5">5</option>
                    <option value="10">10</option>
                    <option value="20">20</option>
                    <option value="40">40</option>
                    <option value="50">50</option>
                  </select>
                </div>
              </div>

              <div>
                <div class="panel-body table-responsive">
                  <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                    <thead>
                      <tr>
                        <th>Canal</th>
                        <th class="centrarhorizontal">Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="odd gradeX"
                        *ngFor="let data of ListaCanalesReceta | modalpuntosrecetaingart: searchStringTCanalReceta | paginate: { itemsPerPage: itempageTCanalReceta, currentPage: tcr, id: 'tablacanalreceta' };  let i = index ">
                        <td>{{data.nombre}}</td>
                        <td class="centrarhorizontal">
                          <a (click)="QuitarCanalRec(data)" uiSrefActive="active" role="button" data-toggle="modal"
                            data-target="#Inactivar" data-placement="top" title="Eliminar">
                            <img src="assets/images/delete.png" width="30" height="30" class="btnReportes">
                          </a>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="centrarpaginacion">
                    <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="tcr = $event" id="tablacanalreceta"></pagination-controls>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <br>
          <form #recetaForm="ngForm">
            <div class="row" *ngIf="DataNewArticulo.receta_dif_canal">
              <div class="col-md-4">
                <div class="form-group">
                  <label for="nombre">Nombre Receta
                    <b class="asterisco">*</b>:</label>
                  <input type="text" class="form-control" name="DataEditReceta.nombreReceta"
                    [(ngModel)]="DataEditReceta.nombreReceta" #nameRec="ngModel" minlength="2" maxlength="100" required
                    [ngClass]="{'is-invalid': !nameRec.valid && (nameRec.dirty || nameRec.touched)}" />
                  <span class="invalid-feedback" *ngIf="nameRec.errors && (nameRec.dirty || nameRec.touched)">
                    <li *ngIf=nameRec.errors.required>
                      El campo Nombre Receta es obligatorio
                    </li>
                    <li *ngIf="nameRec.errors.minlength">
                      El campo Nombre Receta debe ser mayor a 2 caracteres*
                    </li>
                  </span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="nombre">Receta para
                    <b class="asterisco">*</b>:</label>
                  <input type="text" class="form-control" name="DataEditReceta.cantidadReceta"
                    [(ngModel)]="DataEditReceta.cantidadReceta" #canRec="ngModel" (keypress)="kPNumerosPuntos($event)"
                    minlength="1" maxlength="100" required
                    [ngClass]="{'is-invalid': !canRec.valid && (canRec.dirty || canRec.touched)}" />
                  <span class="invalid-feedback" *ngIf="canRec.errors && (canRec.dirty || canRec.touched)">
                    <li *ngIf=canRec.errors.required>
                      El campo Receta para es obligatorio
                    </li>
                    <li *ngIf="canRec.errors.minlength">
                      El campo Receta para debe ser mayor a 1 caracter*
                    </li>
                  </span>
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group">
                  <label for="nombre">Unidad
                    <b class="asterisco">*</b>:</label>
                  <select class="form-control" name="DataEditReceta.id_unidadReceta"
                    [(ngModel)]="DataEditReceta.id_unidadReceta" #uniBase="ngModel" required
                    [ngClass]="{'is-invalid': !uniBase.valid && (uniBase.dirty || uniBase.touched)}">
                    <option [value]="ub.id" *ngFor="let ub of DataArrayUnidadBase">{{ub.nombre}}</option>
                  </select>
                  <span class="invalid-feedback" *ngIf="uniBase.errors && (uniBase.dirty || uniBase.touched)">
                    <li *ngIf="uniBase.errors.required">
                      El campo unidad de Base es obligatorio
                    </li>
                  </span>
                </div>
              </div>

            </div>
          </form>
          <div class="row">
            <div class="col-md-4">
              <div class="form-group">
                <label>Ingredientes</label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <a (click)="LimpiarFormIngredientes()" uiSrefActive="active" role="button" data-toggle="modal"
                  data-target="#Ingredientes" data-placement="top" title="Ingredientes">
                  <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
                </a>
              </div>
            </div>
          </div>

          <div class="row">

            <div class="col-md-12">
              <div class="tablaconfig">
                <div class="centrar buscar-paginacionconfig">
                  <div class="buscar-paginacion2">
                    <input type="text" class="form-control" name="searchStringTIngredientes" placeholder="Buscar"
                      [(ngModel)]="searchStringTIngredientes">
                  </div>
                  <div class="buscar-paginacion2">
                    <select class="form-control" name="itempageTIngredientes" [(ngModel)]="itempageTIngredientes">
                      <option value="5" selected="selected">Ingredientes Por Página</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="40">40</option>
                      <option value="50">50</option>
                    </select>
                  </div>
                </div>

                <div>
                  <div class="loading" *ngIf="loader">
                    <i class="fas fa-sync-alt fa-spin fa-3x"></i>
                  </div>
                  <div class="loadError" *ngIf="LoadError">
                    <div class="alert alert-danger">{{error}}</div>
                  </div>
                  <div *ngIf="LoadTabla">
                    <div class="panel-body table-responsive">
                      <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                        <thead>
                          <tr>
                            <th>Articulo</th>
                            <th>Cantidad</th>
                            <th>Unidad</th>
                            <th class="centrar">Acciones</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="odd gradeX"
                            *ngFor="let data of ListaIngredientes | modalingredientesrecetaingart: searchStringTIngredientes | paginate: { itemsPerPage: itempageTIngredientes, currentPage: ti, id: 'tablaingre' };  let i = index ">
                            <td>{{data.nombre_articulo}}</td>
                            <td>{{data.cantidad}}</td>
                            <td>{{data.nom_unidad}}</td>
                            <td class="center">
                              <a (click)="BindingIngrediente(data)" uiSrefActive="active" role="button"
                                data-toggle="modal" data-target="#ModificarIngrediente" data-placement="top"
                                title="Modificar">
                                <img src="assets/images/editar.png" width="30" height="30" class="btnReportes">
                              </a>
                              <a (click)="QuitarIngrediente(data)" uiSrefActive="active" role="button"
                                data-toggle="modal" data-target="#Inactivar" data-placement="top" title="Inactivar">
                                <img src="assets/images/delete.png" width="30" height="30" class="btnReportes">
                              </a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <div class="centrarpaginacion">
                        <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="ti = $event" id="tablaingre"></pagination-controls>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="Preparacion">Preparación:</label>
                <textarea rows="6" name="DataEditReceta.preparacionReceta" class="form-control"
                  [(ngModel)]="DataEditReceta.preparacionReceta" #prep="ngModel"
                  [ngClass]="{'is-invalid': !prep.valid && (prep.dirty || prep.touched)}"></textarea>
                <span class="invalid-feedback" *ngIf="prep.errors && (prep.dirty || prep.touched)">
                  <li *ngIf=prep.errors.required>
                    El campo preparacion es obligatorio
                  </li>
                  <li *ngIf="prep.errors.minlength">
                    El campo preparacion debe ser mayor a 2 caracteres*
                  </li>
                </span>
              </div>
            </div>
          </div>

          <div class="centrar">
            <button (click)="SalirReceta(3);devolverReceta(DataEditReceta);" type="button"
              class="btnbutton btnbuttoncompras">Anterior</button>
            <button (click)="modificarReceta(DataEditReceta);SalirReceta(3)" [disabled]="!recetaForm.valid ||
        ListaIngredientes.length === 0 || (DataNewArticulo.receta_dif_canal &&
        ListaCanalesReceta.length === 0)" type="submit" class="btnbutton btnbuttoncompras">Actualizar</button>
          </div>

          <!-- <div class="centrar" *ngIf="DataNewArticulo.receta &&
          !DataNewArticulo.utilizaEmpaque">
            <button type="button" class="btnbutton button" awPreviousStep>Anterior</button>
            <button (click)="onSubmit(DataNewArticulo)" type="button" class="btnbutton button"
            [disabled]="(DataNewArticulo.receta_dif_punto && ListaPuntosReceta.length === 0) || (DataNewArticulo.receta_dif_canal && ListaCanalesReceta.length === 0)
            || !recetaForm.valid || ListaIngredientes.length === 0"
            awNextStep>Guardar</button>
          </div>

          <div class="centrar" *ngIf="DataNewArticulo.receta &&
          DataNewArticulo.utilizaEmpaque">
            <button type="button" class="btnbutton button" awPreviousStep>Anterior</button>
            <button type="button" class="btnbutton button"
            [disabled]="(DataNewArticulo.receta_dif_punto && ListaPuntosReceta.length === 0) || (DataNewArticulo.receta_dif_canal && ListaCanalesReceta.length === 0)
            || !recetaForm.valid || ListaIngredientes.length === 0"
            awNextStep>Siguiente</button>
          </div> -->

        </div>
      </form>

    </section>


    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->
    <!-- ****************************** EMPAQUES ************************************ -->
    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->
    <section *ngIf="seccionEmpaques">
      <form #artSieteForm="ngForm">
        <div class="caja_cliente">
          <br>
          <div class="row centrar">
            <div class="col-md-12">
              <div class="btnrouterlinkconfig">
                <a (click)="LoadGruposEmpaque()" uiSrefActive="active" role="button" data-toggle="modal"
                  data-target="#Empaques" data-placement="top">
                  <span class="pull-left">Seleccionar Empaque</span>
                  <span class="pull-right">
                    <i class="fa fa-arrow-circle-right"></i>
                  </span>
                  <div class="clearfix"></div>
                </a>
              </div>
              <div class="btnrouterlinkconfig">
                <a (click)="LimpiarFormGrupoEmpaque()" uiSrefActive="active" role="button" data-toggle="modal"
                  data-target="#CrearGrupoEmp" data-placement="top" title="Crear Grupo">
                  <span class="pull-left">Crear Grupo de empaque</span>
                  <span class="pull-right">
                    <i class="fa fa-arrow-circle-right"></i>
                  </span>
                  <div class="clearfix"></div>
                </a>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="ListaEmpaques.length >=1">

            <div class="col-md-12">
              <div class="tablaconfig">
                <div class="centrar buscar-paginacionconfig">
                  <div class="buscar-paginacion2">
                    <input type="text" class="form-control" name="searchStringTEmpaques" placeholder="Buscar"
                      [(ngModel)]="searchStringTEmpaques">
                  </div>
                  <div class="buscar-paginacion2">
                    <select class="form-control" name="itempageTEmpaques" [(ngModel)]="itempageTEmpaques">
                      <option value="5" selected="selected">Empaques Por Página</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="40">40</option>
                      <option value="50">50</option>
                    </select>
                  </div>
                </div>

                <div>
                  <div class="panel-body table-responsive">
                    <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                      <thead>
                        <tr>
                          <th>Grupo Empaque</th>
                          <th class="center">Acciones</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr class="odd gradeX"
                          *ngFor="let data of ListaEmpaques | modalempaquesingart: searchStringTEmpaques | paginate: { itemsPerPage: itempageTEmpaques, currentPage: te, id: 'tablaempaques' };  let i = index ">
                          <td>{{data.nombre}}</td>
                          <td class="center">
                            <a (click)="bindingDataModificarGrupo(data)" uiSrefActive="active" role="button"
                              data-toggle="modal" data-target="#ModificarGrupoEmp" title="Modificar">
                              <img src="assets/images/editar.png" width="30" height="30" class="btnReportes">
                            </a>
                            <a (click)="QuitarEmpaque(data)" uiSrefActive="active" role="button" data-toggle="modal"
                              data-target="#Inactivar" data-placement="top" title="Inactivar">
                              <img src="assets/images/delete.png" width="30" height="30" class="btnReportes">
                            </a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <div class="centrarpaginacion">
                      <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="te = $event" id="tablaempaques"></pagination-controls>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="centrar">
          <button (click)="validarCodigoPlu(DataNewArticulo)" type="submit" class="btnbutton button"
            [disabled]="ListaEmpaques.length === 0">Guardar y Salir</button>
        </div>
      </form>
    </section>



    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->
    <!-- *************************** MANEJA FRACCION ******************************** -->
    <!-- **************************************************************************** -->
    <!-- **************************************************************************** -->
    <section *ngIf="seccionManejaFraccion">

      <div class="caja_cliente">
        <br>
        <div class="row">
          <div class="col-md-4">
            <div class="form-group">
              <label>Unidad Alterna de Venta</label>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <a (click)="LimpiarFormUnidadAlternaVenta();bindingUnidadFraccion()" uiSrefActive="active" role="button"
                data-toggle="modal" data-target="#UnidadAlternaVenta" data-placement="top" title="Unidad alterna">
                <img src="assets/images/plus.png" width="25" height="25" class="btnReportes">
              </a>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="ListaUnidadesAlternaVenta.length >= 1">

          <div class="col-md-12">
            <div class="tablaconfig">
              <div class="centrar buscar-paginacionconfig">
                <div class="buscar-paginacion2">
                  <input type="text" class="form-control" name="searchStringTUniAlterna" placeholder="Buscar"
                    [(ngModel)]="searchStringTUniAlterna">
                </div>
                <div class="buscar-paginacion2">
                  <select class="form-control" name="itempageTUniAlterna" [(ngModel)]="itempageTUniAlterna">
                    <option value="5" selected="selected">Unidad Alterna Por Página</option>
                    <option value="5">5</option>
                    <option value="10">10</option>
                    <option value="20">20</option>
                    <option value="40">40</option>
                    <option value="50">50</option>
                  </select>
                </div>
              </div>

              <div>
                <div class="loading" *ngIf="loader">
                  <i class="fas fa-sync-alt fa-spin fa-3x"></i>
                </div>
                <div class="loadError" *ngIf="LoadError">
                  <div class="alert alert-danger">{{error}}</div>
                </div>
                <div *ngIf="LoadTabla">
                  <div class="panel-body table-responsive">
                    <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                      <thead>
                        <tr>
                          <th>Unidad alterna</th>
                          <!-- <th>Costos</th>
                      <th>Valor venta</th>
                      <th>Margen de utilidad</th>
                      <th>Lista de precios</th> -->
                          <th class="centrar">Acciones</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr class="odd gradeX"
                          *ngFor="let data of ListaUnidadesAlternaVenta | tablacostosestimadoingart: searchStringTUniAlterna | paginate: { itemsPerPage: itempageTUniAlterna, currentPage: tua, id: 'tablaundalterna' };  let i = index ">
                          <td>{{data.nombreUniAlterna}}</td>
                          <!-- <td>{{DataNewArticulo.costoEstimado | currency:'USD':true}}</td>
                      <td>{{data.valorVen | currency:'USD':true}}</td>
                      <td>{{DataNewArticulo.costoEstimado / data.cantAlterna | currency:'USD':true}}</td>
                      <td>{{data.nombreListaPrecios}}</td> -->
                          <td class="centrar">
                            <a (click)="BindingUnidadAlterna(data)" uiSrefActive="active" role="button"
                              data-toggle="modal" data-target="#ModificarUnidadAlternaVenta" data-placement="top"
                              title="Modificar">
                              <img src="assets/images/editar.png" width="25" height="25" class="btnReportes">
                            </a>
                            <a (click)="QuitarUnidadAlterna(data)" uiSrefActive="active" role="button"
                              data-toggle="modal" data-target="#Inactivar" data-placement="top" title="Inactivar">
                              <img src="assets/images/delete.png" width="25" height="25" class="btnReportes">
                            </a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    <div class="centrarpaginacion">
                      <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="tua = $event" id="tablaundalterna"></pagination-controls>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

      <div class="centrar">
        <button (click)="validarCodigoPlu(DataNewArticulo)" type="submit" class="btnbutton button"
          [disabled]="ListaUnidadesAlternaVenta.length === 0">Guardar y Salir</button>
      </div>
    </section>
  </div>
</div>
<!-- **************************************************************************** -->
<!-- **************************************************************************** -->
<!-- **************************************************************************** -->
<!-- *************************** INICIO MODALES ********************************* -->
<!-- **************************************************************************** -->
<!-- **************************************************************************** -->
<!-- **************************************************************************** -->


<!-- ***************************** Modal Puntos ********************************* -->

<div id="Puntos" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Puntos</h4>
      </div>

      <div class="modal-body">
        <div class="tablaconfig">
          <div class="centrar buscar-paginacionconfig">
            <div class="buscar-paginacion2">
              <input type="text" class="form-control" name="searchStringPuntos" placeholder="Buscar"
                [(ngModel)]="searchStringPuntos">
            </div>
            <div class="buscar-paginacion2">
              <select class="form-control" name="itempagePuntos" [(ngModel)]="itempagePuntos">
                <option value="5" selected="selected">Puntos Por Página</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="40">40</option>
                <option value="50">50</option>
              </select>
            </div>
          </div>

          <div>
            <div class="loading" *ngIf="loader">
              <i class="fas fa-sync-alt fa-spin fa-3x"></i>
            </div>
            <div class="loadError" *ngIf="LoadError">
              <div class="alert alert-danger">{{error}}</div>
            </div>
            <div *ngIf="LoadTabla">
              <div class="panel-body table-responsive">
                <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                  <thead>
                    <tr>
                      <th>Nombre Punto</th>
                      <th class="center">
                        Seleccionar Todo
                        <input type="checkbox" [checked]="TodoPuntos" name="checkAll"
                          (change)="onChangeAll(DataJsonPuntos, $event.target.checked)">
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="odd gradeX" (click)="onChange(data, !data.checked)"
                      *ngFor="let data of DataJsonPuntos | puntosingresarart: searchStringPuntos |  paginate: { itemsPerPage: itempagePuntos, currentPage: mp, id: 'modalpuntos' }">
                      <td>{{data.nombre}}</td>
                      <td class="center">
                        <input type="checkbox" name="check" [checked]="data.checked"
                          (change)="onChange(data, $event.target.checked)">
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="centrarpaginacion">
                  <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="mp = $event" id="modalpuntos"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="MostrarPuntosArticulo();" [disabled]="ListaPuntosSel.length === 0" data-dismiss="modal"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" (click)="LimpiarFormPuntos()" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- *************************** Fin Modal Puntos ******************************* -->


<!-- ************************** Modal Crear clase ******************************* -->

<div id="CrearClase" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Crear Clase</h4>
      </div>

      <div class="modal-body">
        <form #ClasesForm="ngForm">
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="clase">Nombre Clase
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="Clase" [(ngModel)]="Clase" #nameClase="ngModel"
                  minlength="1" maxlength="100" required
                  [ngClass]="{'is-invalid': !nameClase.valid && (nameClase.dirty || nameClase.touched)}" />
                <span class="invalid-feedback" *ngIf="nameClase.errors && (nameClase.dirty || nameClase.touched)">
                  <li *ngIf=nameClase.errors.required>
                    El campo Nombre Clase obligatorio
                  </li>
                  <li *ngIf="nameClase.errors.minlength">
                    El campo Nombre Clase debe ser mayor a 1 caracteres*
                  </li>
                </span>
              </div>
            </div>
          </div>
          <!-- <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="grupo">Nombre Grupo
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="Grupo" [(ngModel)]="Grupo" #nameGrupo="ngModel"
                  minlength="1" maxlength="100" required
                  [ngClass]="{'is-invalid': !nameGrupo.valid && (nameGrupo.dirty || nameGrupo.touched)}" />
                <span class="invalid-feedback" *ngIf="nameGrupo.errors && (nameGrupo.dirty || nameGrupo.touched)">
                  <li *ngIf=nameGrupo.errors.required>
                    El campo Nombre Grupo es obligatorio
                  </li>
                  <li *ngIf="nameGrupo.errors.minlength">
                    El campo Nombre Grupo debe ser mayor a 1 caracteres*
                  </li>
                </span>
              </div>
            </div>
          </div> -->
          <div class="row">
            <div class="col-md-2">
              <div class="form-group">
                <label for="modVen">Ventas</label>
              </div>
            </div>
            <div class="col-md-1">
              <div class="form-group">
                <input type="checkbox" id="modVen" name="paraVenta" [(ngModel)]="paraVenta" />
              </div>
            </div>
            <div class="col-md-2">
              <div class="form-group">
                <label for="modInven">Inventarios</label>
              </div>
            </div>
            <div class="col-md-1">
              <div class="form-group">
                <input type="checkbox" id="modInven" name="paraInv" [(ngModel)]="paraInv" />
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="CrearClase(Clase,paraVenta, paraInv);"
            [disabled]="!ClasesForm.valid || (paraVenta === false && paraInv === false)" data-dismiss="modal"
            class="btnbutton">Crear</button>
          <button data-dismiss="modal" (click)="LimpiarFormClases()" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ************************ Fin Modal Crear clase ***************************** -->


<!-- ************************** Modal Crear grupo ******************************* -->

<div id="CrearGrupo" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Crear Grupo</h4>
      </div>

      <div class="modal-body">
        <form #GrupoForm="ngForm">
          <div class="row" *ngIf="modulo === 1">
            <div class="col-md-12">
              <div class="form-group">
                <label for="nombre">Clase de Inventario
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DataNewGrupoClase.clase" [(ngModel)]="DataNewGrupoClase.clase" #nameClase="ngModel" required
                  [ngClass]="{'is-invalid': !nameClase.valid && (nameClase.dirty || nameClase.touched)}">
                  <option [value]=""></option>
                  <option [value]="clases.id" *ngFor="let clases of DataArrayClases">{{clases.nombre}}</option>
                </select>
                <span class="invalid-feedback" *ngIf="nameClase.errors && (nameClase.dirty || nameClase.touched)">
                  <li *ngIf="nameClase.errors.required">
                    El campo Nombre Clase de Inventario es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="modulo === 2">
            <div class="col-md-12">
              <div class="form-group">
                <label for="nombre">Clase de Venta
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DataNewGrupoClase.clase" [(ngModel)]="DataNewGrupoClase.clase" #nameClase="ngModel" required
                  [ngClass]="{'is-invalid': !nameClase.valid && (nameClase.dirty || nameClase.touched)}">
                  <option [value]=""></option>
                  <option [value]="clases.id" *ngFor="let clases of DataArrayClasesVenta">{{clases.nombre}}</option>
                </select>
                <span class="invalid-feedback" *ngIf="nameClase.errors && (nameClase.dirty || nameClase.touched)">
                  <li *ngIf="nameClase.errors.required">
                    El campo Nombre Clase de venta es obligatorio
                  </li>
                </span>
              </div>
            </div>
            <!-- <div class="form-group" [ngClass]="{'is-invalid': !nameClase.valid && (nameClase.dirty || nameClase.touched)}">
                <label for="clase">Nombre Clase
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="Clase" [(ngModel)]="Clase" #nameClase="ngModel" minlength="1" maxlength="100"
                  required />
                <span class="invalid-feedback" *ngIf="nameClase.errors && (nameClase.dirty || nameClase.touched)">
                  <li *ngIf=nameClase.errors.required>
                    El campo Nombre Clase obligatorio
                  </li>
                  <li *ngIf="nameClase.errors.minlength">
                    El campo Nombre Clase debe ser mayor a 1 caracteres*
                  </li>
                </span>
              </div> -->
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="grupo">Nombre Grupo
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="DataNewGrupoClase.grupo" [(ngModel)]="DataNewGrupoClase.grupo" #nameGrupo="ngModel"
                  minlength="1" maxlength="100" required
                  [ngClass]="{'is-invalid': !nameGrupo.valid && (nameGrupo.dirty || nameGrupo.touched)}" />
                <span class="invalid-feedback" *ngIf="nameGrupo.errors && (nameGrupo.dirty || nameGrupo.touched)">
                  <li *ngIf=nameGrupo.errors.required>
                    El campo Nombre Grupo es obligatorio
                  </li>
                  <li *ngIf="nameGrupo.errors.minlength">
                    El campo Nombre Grupo debe ser mayor a 1 caracteres*
                  </li>
                </span>
              </div>
            </div>
          </div>


          <div class="row">
            <div class="col-md-2">
              <div class="form-group">
                <label for="modulVen">Ventas</label>
              </div>
            </div>
            <div class="col-md-1">
              <div class="form-group">
                <input type="checkbox" id="modulVen" name="DataNewGrupoClase.paraVenta" [(ngModel)]="DataNewGrupoClase.paraVenta" />
              </div>
            </div>
            <div class="col-md-2">
              <div class="form-group">
                <label for="modulInven">Inventarios</label>
              </div>
            </div>
            <div class="col-md-1">
              <div class="form-group">
                <input type="checkbox" id="modulInven" name="DataNewGrupoClase.paraInv" [(ngModel)]="DataNewGrupoClase.paraInv" />
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="CrearGrupo(DataNewGrupoClase);" [disabled]="!GrupoForm.valid" data-dismiss="modal"
            class="btnbutton">Crear</button>
          <button data-dismiss="modal" (click)="LimpiarFormGrupos()" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ************************ Fin Modal Crear grupo ***************************** -->


<!-- *********************** Modal Maximos y minimos **************************** -->

<div id="CrearMaxMin" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Maximos y Minimos</h4>
      </div>

      <div class="modal-body">
        <form #MaxMinForm="ngForm">
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="maximo">Maximo
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="Maximo" [(ngModel)]="Maximo" #max="ngModel"
                  (keypress)="kPNumeros($event)" (keyup)="validarMaximo(Maximo, Minimo)" minlength="1" maxlength="100"
                  required [ngClass]="{'is-invalid': !max.valid && (max.dirty || max.touched)}" />
                <span class="invalid-feedback" *ngIf="max.errors && (max.dirty || max.touched)">
                  <li *ngIf=max.errors.required>
                    El campo Maximo es obligatorio
                  </li>
                  <li *ngIf="max.errors.minlength">
                    El campo Maximo debe ser mayor a 1 caracteres*
                  </li>
                </span>
                <span class="invalid-feedbackSecond" *ngIf="mensajeMax === true">
                  {{mensajeMaximo}}
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="minimo">Minimo
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="Minimo" [(ngModel)]="Minimo" #min="ngModel"
                  (keypress)="kPNumeros($event)" (keyup)="validarMinimo(Maximo, Minimo)" minlength="1" maxlength="100"
                  required [ngClass]="{'is-invalid': !min.valid && (min.dirty || min.touched)}" />
                <span class="invalid-feedback" *ngIf="min.errors && (min.dirty || min.touched)">
                  <li *ngIf=min.errors.required>
                    El campo Minimo es obligatorio
                  </li>
                  <li *ngIf="min.errors.minlength">
                    El campo Minimo debe ser mayor a 1 caracteres*
                  </li>
                </span>
                <span class="invalid-feedbackSecond" *ngIf="mensajeMin === true">
                  {{mensajeMinimo}}
                </span>
              </div>
            </div>
          </div>

        </form>
        <div class="tablaconfig">
          <div class="centrar buscar-paginacionconfig">
            <div class="buscar-paginacion2">
              <input type="text" class="form-control" name="searchStringPuntosMax" placeholder="Buscar"
                [(ngModel)]="searchStringPuntosMax">
            </div>
            <div class="buscar-paginacion2">
              <select class="form-control" name="itempagePuntosMax" [(ngModel)]="itempagePuntosMax">
                <option value="5" selected="selected">Puntos Por Página</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="40">40</option>
                <option value="50">50</option>
              </select>
            </div>
          </div>

          <div>
            <div class="loading" *ngIf="loader">
              <i class="fas fa-sync-alt fa-spin fa-3x"></i>
            </div>
            <div class="loadError" *ngIf="LoadError">
              <div class="alert alert-danger">{{error}}</div>
            </div>
            <div *ngIf="LoadTabla">
              <div class="panel-body table-responsive">
                <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                  <thead>
                    <tr>
                      <th>Nombre Punto</th>
                      <th class="center" (click)="onChangeAllMaximos(ListaPuntos, !data.checked)">
                        Seleccionar Todo
                        <input type="checkbox" [checked]="TodoMaxPuntos" name="checkAllMax"
                          (change)="onChangeAllMaximos(ListaPuntos, $event.target.checked)">
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="odd gradeX"
                      *ngFor="let data of ListaPuntos | puntosmaxminingresarart: searchStringPuntosMax | paginate: { itemsPerPage: itempagePuntosMax, currentPage: mpm, id:'modalpuntosmax' }">
                      <td>{{data.nombre}}</td>
                      <td class="center">
                        <input type="checkbox" name="checkMax" [checked]="data.checked"
                          (change)="onChangeMaximos(data, $event.target.checked)">
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="centrarpaginacion">
                  <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="mpm = $event" id="modalpuntosmax"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="MostrarMaximosMinimos(Maximo, Minimo);"
            [disabled]="!MaxMinForm.valid || ListaPuntosMaxMin.length === 0 || mensajeMax === true || mensajeMin === true"
            data-dismiss="modal" class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" (click)="LimpiarFormMaximosMinimos();" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ********************* Fin Modal Maximos y minimos ************************** -->


<!-- ****************** Modal Modificar Maximos y minimos *********************** -->

<div id="ModificarMaximoMinimo" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">


      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Maximos y Minimos</h4>
      </div>

      <div class="modal-body">
        <form #MaxMinEditForm="ngForm">
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="maximo">Maximo
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="DatosEditMaxMin.Max" [(ngModel)]="DatosEditMaxMin.Max"
                  #max="ngModel" (keypress)="kPNumeros($event)"
                  (keyup)="validarMaximo(DatosEditMaxMin.Max, DatosEditMaxMin.Min)" minlength="1" maxlength="100"
                  required [ngClass]="{'is-invalid': !max.valid && (max.dirty || max.touched)}" />
                <span class="invalid-feedback" *ngIf="max.errors && (max.dirty || max.touched)">
                  <li *ngIf=max.errors.required>
                    El campo Maximo es obligatorio
                  </li>
                  <li *ngIf="max.errors.minlength">
                    El campo Maximo debe ser mayor a 1 caracteres*
                  </li>
                </span>
                <span class="invalid-feedbackSecond" *ngIf="mensajeMax === true">
                  {{mensajeMaximo}}
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="minimo">Minimo
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="DatosEditMaxMin.Min" [(ngModel)]="DatosEditMaxMin.Min"
                  #min="ngModel" (keypress)="kPNumeros($event)"
                  (keyup)="validarMinimo(DatosEditMaxMin.Max, DatosEditMaxMin.Min)" minlength="1" maxlength="100"
                  required [ngClass]="{'is-invalid': !min.valid && (min.dirty || min.touched)}" />
                <span class="invalid-feedback" *ngIf="min.errors && (min.dirty || min.touched)">
                  <li *ngIf=min.errors.required>
                    El campo Minimo es obligatorio
                  </li>
                  <li *ngIf="min.errors.minlength">
                    El campo Minimo debe ser mayor a 1 caracteres*
                  </li>
                </span>
                <span class="invalid-feedbackSecond" *ngIf="mensajeMin === true">
                  {{mensajeMinimo}}
                </span>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="ModificarMaximoMinimo(DatosEditMaxMin);"
            [disabled]="!MaxMinEditForm.valid || mensajeMax === true || mensajeMin === true" data-dismiss="modal"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" (click)="LimpiarFormMaximosMinimos();" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- **************** Fin Modal Modificar Maximos y minimos ********************* -->


<!-- ************************ Modal Unidad de compra **************************** -->

<div id="UnidadCompra" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Unidad de Compra</h4>
      </div>


      <!-- Modal Crear Unidad de compra -->
      <div class="modal-body">

        <form #UnidadForm="ngForm">

          <div class="row" *ngIf="DataNewArticulo.compras && !DataNewArticulo.inventario">
            <div class="col-md-12">
              <div class="form-group">
                <label for="unidad">Unidad
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DataNewConversion.unidadCompra"
                  [(ngModel)]="DataNewConversion.unidadCompra" #uniComp="ngModel" required
                  [ngClass]="{'is-invalid': !uniComp.valid && (uniComp.dirty || uniComp.touched)}">
                  <option></option>
                  <option [value]="unCompra.id" *ngFor="let unCompra of DataArrayUnidadCompra">{{unCompra.nombre}}
                  </option>
                </select>
                <span class="invalid-feedback" *ngIf="uniComp.errors && (uniComp.dirty || uniComp.touched)">
                  <li *ngIf=uniComp.errors.required>
                    El campo unidad de compra es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>

          <div class="row" *ngIf="DataNewArticulo.inventario">
            <div class="col-md-12">
              <div class="form-group">
                <label for="unidad">Unidad
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DataNewConversion.unidadCompra"
                  [(ngModel)]="DataNewConversion.unidadCompra"
                  (change)="LoadEquivalencia(DataNewConversion.idUniKardex, DataNewConversion.unidadCompra)"
                  #uniComp="ngModel" required
                  [ngClass]="{'is-invalid': !uniComp.valid && (uniComp.dirty || uniComp.touched)}">
                  <option></option>
                  <option [value]="unCompra.id" *ngFor="let unCompra of DataArrayUnidadCompra">{{unCompra.nombre}}
                  </option>
                </select>
                <span class="invalid-feedback" *ngIf="uniComp.errors && (uniComp.dirty || uniComp.touched)">
                  <li *ngIf=uniComp.errors.required>
                    El campo unidad de compra es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <a (click)="clickCrearUnidadCompraSencilla()">
                  <span class="enlace">Crear Unidad de compra</span>
                </a>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="clickCrearUniCompra">

            <div class="col-md-12">
              <div class="form-group">
                <label for="nombreUni">Nombre unidad:</label>
                <input type="text" class="form-control" name="DataUnidadCompra.nombreUnidadCompra"
                  [(ngModel)]="DataUnidadCompra.nombreUnidadCompra">
              </div>
              <div class="form-group">
                <label for="nombreUni">Abreviatura unidad:</label>
                <input type="text" class="form-control" name="DataUnidadCompra.abreviatura"
                  [(ngModel)]="DataUnidadCompra.abreviatura">
              </div>
              <div class="form-group">
                <button type="submit" (click)="crearUnidadCompra(DataUnidadCompra);clickCrearUnidadCompraSencilla();"
                  [disabled]="!DataUnidadCompra.nombreUnidadCompra || !DataUnidadCompra.abreviatura"
                  class="btnPrimary">Crear</button>
              </div>
            </div>
          </div>

          <div class="row" *ngIf="faltaConversionCompra">

            <div class="col-md-2 spaddi">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="DataNewConversion.cantKardex"
                  [(ngModel)]="DataNewConversion.cantKardex" required>
              </div>
            </div>
            <div class="col-md-4 spaddi">
              <div class="form-group">
                <label for="con">Und de kardex:</label>
                <input type="text" readonly class="form-control" name="DataNewConversion.nombreUniKardex"
                  [(ngModel)]="DataNewConversion.nombreUniKardex">
              </div>
            </div>
            <div class="col-md-1 spaddi">
              <div class="form-group">
                <label for="con">Igual:</label>
                <br>
                <label class="topcenter"> =</label>
              </div>
            </div>
            <div class="col-md-2 spaddi">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="DataNewConversion.cantidad"
                  [(ngModel)]="DataNewConversion.cantidad" required>
              </div>
            </div>
            <div class="col-md-3 spaddi">
              <div class="form-group">
                <label for="con">Und de compra:</label>
                <br>
                <label class="topcenter" for="uni">{{DataNewConversion.nombreUnidadCompra}}</label>
              </div>
            </div>
          </div>

        </form>


        <!-- <form #UnidadForm="ngForm" *ngIf="DataNewArticulo.inventario">

          <div class="row" *ngIf="DataNewArticulo.inventario">
            <div class="form-group">
              <a (click)="clickCrearUnidadCompra()">
                <span class="enlace">Crear Unidad de compra</span>
              </a>
            </div>
          </div>
          <div *ngIf="clickUniCompra">
            <div class="row">
              <div class="col-md-6">
                <label for="nombreUni">Nombre unidad de compra:</label>
              </div>
              <div class="col-md-6">
                <label for="abre">Abreviatura:</label>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <input type="text" id="nombreUni" class="form-control" name="DataNewConversion.nombreUnidadCompra"
                  [(ngModel)]="DataNewConversion.nombreUnidadCompra">
              </div>
              <div class="col-md-6">
                <input type="text" id="abre" class="form-control" name="DataNewConversion.abreviatura"
                  [(ngModel)]="DataNewConversion.abreviatura">
              </div>
            </div>
          </div>
          <br>

          <div class="row" *ngIf="clickUniCompra">
            <div class="col-md-2">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="DataNewConversion.cantidad"
                  [(ngModel)]="DataNewConversion.cantidad">
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <label for="con">Unidad de compra:</label>
                <br>
                <label class="topcenter" for="uni">{{DataNewConversion.nombreUnidadCompra}}</label>
              </div>
            </div>
            <div class="col-md-1">
              <div class="form-group">
                <label for="con">Igual:</label>
                <br>
                <label class="topcenter"> =</label>
              </div>
            </div>
            <div class="col-md-2">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="DataNewConversion.cantKardex"
                  [(ngModel)]="DataNewConversion.cantKardex">
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label for="con">Unidad de conversion:</label>
                <input type="text" readonly class="form-control" name="DataNewConversion.nombreUniKardex"
                  [(ngModel)]="DataNewConversion.nombreUniKardex">
              </div>
            </div>
          </div>
        </form> -->
        <div class="row" *ngIf="DataNewArticulo.inventario">
          <div class="col-md-12">
            <div class="form-group center">
              <a (click)="LoadUnidadesPersonalizadas(DataNewConversion.idUniKardex)">
                <span class="enlace">Ver Tabla de unidades personalizadas</span>
              </a>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="clickTablaUnidades">
          <div class="col-md-12">
            <div class="tablaconfig">
              <div class="centrar buscar-paginacionconfig">
                <div class="buscar-paginacion2">
                  <input type="text" class="form-control" name="searchStringTablaPers" placeholder="Buscar"
                    [(ngModel)]="searchStringTablaPers">
                </div>
                <div class="buscar-paginacion2">
                  <select class="form-control" name="itempageTablaPers" [(ngModel)]="itempageTablaPers">
                    <option value="5" selected="selected">Unidades Por Página</option>
                    <option value="5">5</option>
                    <option value="10">10</option>
                    <option value="20">20</option>
                    <option value="40">40</option>
                    <option value="50">50</option>
                  </select>
                </div>
              </div>

              <div>
                <div class="loading" *ngIf="loader">
                  <i class="fas fa-sync-alt fa-spin fa-3x"></i>
                </div>
                <div class="loadError" *ngIf="LoadError">
                  <div class="alert alert-danger">{{error}}</div>
                </div>
                <div *ngIf="LoadTabla">
                  <div class="panel-body table-responsive">
                    <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                      <thead>
                        <tr>
                          <th>Cantidad</th>
                          <th>Unidad Kardex</th>
                          <th> </th>
                          <th>Cantidad</th>
                          <th>Unidad Compra</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr class="odd gradeX"
                          *ngFor="let data of DataArrayTablaUnidades | tablapersonalizadaunidades: searchStringTablaPers | paginate: { itemsPerPage: itempageTablaPers, currentPage: mtup, id:'modaltablauniperso' }">
                          <td>{{data.cantidad_kardex}}</td>
                          <td>{{data.nombre_unidad_kardex}}</td>
                          <td class="center"> Equivale a</td>
                          <td>{{data.cantidad_compra}}</td>
                          <td>{{data.nombre_unidad_compra}}</td>
                        </tr>
                      </tbody>
                    </table>
                    <div class="centrarpaginacion">
                      <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="mtup = $event" id="modaltablauniperso"></pagination-controls>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="GuardarUnidadCompra(DataNewConversion);"
            [disabled]="!UnidadForm.valid || !DataNewConversion.idUniKardex" data-dismiss="modal"
            class="btnbutton">Aceptar</button>
          <!-- <button *ngIf="DataNewArticulo.compras && !DataNewArticulo.inventario"
            (click)="GuardarUnidadCompra(DataNewConversion);" [disabled]="!DataNewConversion.unidadCompra"
            data-dismiss="modal" class="btnbutton">Aceptar</button>
          <button *ngIf="DataNewArticulo.inventario" (click)="GuardarUnidadCompra(DataNewConversion);"
            [disabled]="(clickUniCompra === false && !DataNewConversion.unidadCompra) || clickUniCompra === true && ( !DataNewConversion.nombreUnidadCompra || !DataNewConversion.abreviatura || !DataNewConversion.cantidad ) || !DataNewConversion.idUniKardex"
            data-dismiss="modal" class="btnbutton">Aceptar</button> -->
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ********************** Fin Modal Unidad de compra ************************** -->

<!-- ******************* Modal Modificar Unidad de compra *********************** -->

<div id="ModificarUnidadCompra" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Modificar Unidad de Compra</h4>
        <br>
        <h6 class="modal-title">{{DatosEditUnidad.nombreCompra}}</h6>
      </div>

      <div class="modal-body">

        <form #UnidadEditForm="ngForm">
          <div class="row" *ngIf="DataNewArticulo.compras && !DataNewArticulo.inventario">
            <div class="col-md-12">
              <div class="form-group">
                <label for="unidad">Unidad
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DatosEditUnidad.unidadCompra"
                  [(ngModel)]="DatosEditUnidad.unidadCompra" #uniComp="ngModel" required
                  [ngClass]="{'is-invalid': !uniComp.valid && (uniComp.dirty || uniComp.touched)}">
                  <option></option>
                  <option [value]="unCompra.id" *ngFor="let unCompra of DataArrayUnidadCompra">{{unCompra.nombre}}
                  </option>
                </select>
                <span class="invalid-feedback" *ngIf="uniComp.errors && (uniComp.dirty || uniComp.touched)">
                  <li *ngIf=uniComp.errors.required>
                    El campo unidad de compra es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="DataNewArticulo.inventario">
            <div class="col-md-12">
              <div class="form-group">
                <label for="unidad">Unidad
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DatosEditUnidad.unidadCompra"
                  [(ngModel)]="DatosEditUnidad.unidadCompra"
                  (ngModelChange)="LoadEquivalencia(DataNewConversion.idUniKardex, $event)" #uniCom="ngModel" required
                  [ngClass]="{'is-invalid': !uniCom.valid && (uniCom.dirty || uniCom.touched)}">
                  <option [value]="unCompra.id" *ngFor="let unCompra of DataArrayUnidadCompra">{{unCompra.nombre}}
                  </option>
                </select>
                <span class="invalid-feedback" *ngIf="uniCom.errors && (uniCom.dirty || uniCom.touched)">
                  <li *ngIf=uniCom.errors.required>
                    El campo unidad de compra es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <a (click)="clickCrearUnidadCompraSencilla()">
                  <span class="enlace">Crear Unidad de compra</span>
                </a>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="clickCrearUniCompra">
            <div class="col-md-3">
              <label for="nombreUni">Nombre unidad:</label>
            </div>
            <div class="col-md-4">
              <input type="text" class="form-control" name="DataUnidadCompra.nombreUnidadCompra"
                [(ngModel)]="DataUnidadCompra.nombreUnidadCompra">
            </div>
            <div class="col-md-4">
              <button type="submit" (click)="crearUnidadCompra(DataUnidadCompra);clickCrearUnidadCompraSencilla();"
                [disabled]="!DataUnidadCompra.nombreUnidadCompra" class="btnPrimary">Crear</button>
            </div>
          </div>

          <div class="row" *ngIf="faltaConversionCompra">

            <div class="col-md-2 spaddi">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="DatosEditUnidad.cantKardex"
                  [(ngModel)]="DatosEditUnidad.cantKardex" required>
              </div>
            </div>
            <div class="col-md-4 spaddi">
              <div class="form-group">
                <label for="con">Und de kardex:</label>
                <input type="text" readonly class="form-control" name="DatosEditUnidad.nombreUniKardex"
                  [(ngModel)]="DatosEditUnidad.nombreUniKardex">
              </div>
            </div>
            <div class="col-md-1 spaddi">
              <div class="form-group">
                <label for="con">Igual:</label>
                <br>
                <label class="topcenter"> =</label>
              </div>
            </div>
            <div class="col-md-2 spaddi">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="DatosEditUnidad.cantidad"
                  [(ngModel)]="DatosEditUnidad.cantidad" required>
              </div>
            </div>
            <div class="col-md-3 spaddi">
              <div class="form-group">
                <label for="con">Und de compra:</label>
                <br>
                <label class="topcenter" for="uni">{{DatosEditUnidad.nombreUnidadCompra}}</label>
              </div>
            </div>
          </div>

        </form>

      </div>

      <div class="modal-footer">
        <div class="centrar">
          <button *ngIf="DataNewArticulo.compras && !DataNewArticulo.inventario"
            (click)="ModificarUniCompra(DatosEditUnidad);" [disabled]="!DatosEditUnidad.unidadCompra"
            data-dismiss="modal" class="btnbutton">Aceptar</button>
          <button *ngIf="DataNewArticulo.inventario" (click)="ModificarUnidadCompra(DatosEditUnidad);"
            [disabled]="!UnidadEditForm.valid || !DatosEditUnidad.unidadCompra" data-dismiss="modal"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ***************** Fin Modal Modificar Unidad de compra ********************* -->


<!-- ********************** Modal Sitios de Almacenaje ************************** -->

<div id="SitiosAlm" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Sitios de Almacenaje</h4>
      </div>

      <div class="modal-body">
        <div class="tablaconfig">
          <div class="centrar buscar-paginacionconfig">
            <div class="buscar-paginacion2">
              <input type="text" class="form-control" name="searchStringPuntosSitios" placeholder="Buscar"
                [(ngModel)]="searchStringPuntosSitios">
            </div>
            <div class="buscar-paginacion2">
              <select class="form-control" name="itempagePuntosSitios" [(ngModel)]="itempagePuntosSitios">
                <option value="5" selected="selected">Puntos Por Página</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="40">40</option>
                <option value="50">50</option>
              </select>
            </div>
          </div>

          <div>
            <div class="loading" *ngIf="loader">
              <i class="fas fa-sync-alt fa-spin fa-3x"></i>
            </div>
            <div class="loadError" *ngIf="LoadError">
              <div class="alert alert-danger">{{error}}</div>
            </div>
            <div *ngIf="LoadTabla">
              <div class="panel-body table-responsive">
                <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                  <thead>
                    <tr>
                      <th>Sitio almacenaje</th>
                      <th>Punto</th>
                      <th class="center">
                        Seleccionar Todo
                        <input type="checkbox" name="TodoSitios" [(ngModel)]="TodoSitios"
                          (change)="onChangeAllSitios(ListaSitiosAlmacenaje, $event.target.checked)">
                      </th>
                    </tr>
                  </thead>
                  <tbody class="odd gradeX"
                    *ngFor="let data of ListaSitiosAlmacenaje | puntosbodegasingresarart: searchStringPuntosSitios  | paginate: { itemsPerPage: itempagePuntosSitios, currentPage: msa, id: 'modalsitiosalm' }">
                    <tr>
                      <td>{{data.nombre_bodega}}</td>
                      <td>{{data.nombre_punto}}</td>
                      <td class="center" *ngIf="data.nombre_punto === ''">
                        <input type="checkbox" name="check" [checked]="data.checked" value="{{data.id_bodega}}"
                          (change)="onChangeSitios(data, $event.target.checked)">
                      </td>
                      <td class="center" *ngIf="data.nombre_punto !== ''">
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="centrarpaginacion">
                  <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="msa = $event" id="modalsitiosalm"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="MostrarSitiosArticulo();" [disabled]="ListaSitiosSel.length === 0" data-dismiss="modal"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ******************** Fin Modal Sitios de Almacenaje ************************ -->


<!-- ************************* Modal Canal Impuesto ***************************** -->

<div id="ImpuestoDiferente" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Impuesto</h4>
      </div>

      <div class="modal-body">
        <form #difCanalForm="ngForm">
          <div class="row">
            <div class="col-md-3">
              <label>Canal</label>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <select class="form-control" name="DataImpuestoDif.id_canal" [(ngModel)]="DataImpuestoDif.id_canal"
                  #idCanDif="ngModel" required>
                  <option [value]=""></option>
                  <option [value]="can.id" *ngFor="let can of DataCanales">{{can.nombre}}</option>
                </select>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3">
              <label>Impuesto</label>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <select class="form-control" name="DataImpuestoDif.id_impuesto"
                  [(ngModel)]="DataImpuestoDif.id_impuesto" #idImpDif="ngModel" required>
                  <option [value]=""></option>
                  <option [value]="datosImp.id_impuesto" *ngFor="let datosImp of DataJsonImpuesto">
                    {{datosImp.nombre_impuesto}}</option>
                </select>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3">
              <label>Tarifa</label>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <select class="form-control" name="DataImpuestoDif.id_tarifa" [(ngModel)]="DataImpuestoDif.id_tarifa"
                  #tarDif="ngModel" required>
                  <option [value]=""></option>
                  <option [value]="tar.id_tarifa" *ngFor="let tar of DataTarifas">{{tar.valor_tarifa}}</option>
                </select>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="MostarCanalDiferente(DataImpuestoDif)" [disabled]="!difCanalForm.valid" data-dismiss="modal"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- *********************** Fin Modal Canal Impuesto *************************** -->


<!-- ************************* Modal Canal Impuesto ***************************** -->
<!--
<div id="CanalImpuesto" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Canales Impuesto</h4>
      </div>

      <div class="modal-body">
        <div class="tablaconfig">
          <div class="centrar buscar-paginacionconfig">
            <div class="buscar-paginacion2">
              <input type="text" class="form-control" name="searchStringModalCanalImp" placeholder="Buscar" [(ngModel)]="searchStringModalCanalImp">
            </div>
            <div class="buscar-paginacion2">
              <select class="form-control" name="itempageModalCanalImp" [(ngModel)]="itempageModalCanalImp">
                <option value="5" selected="selected">Canales Por Página</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="40">40</option>
                <option value="50">50</option>
              </select>
            </div>
          </div>

          <div>
            <div class="loading" *ngIf="loader">
              <i class="fas fa-sync-alt fa-spin fa-3x"></i>
            </div>
            <div class="loadError" *ngIf="LoadError">
              <div class="alert alert-danger">{{error}}</div>
            </div>
            <div *ngIf="LoadTabla">
              <div class="panel-body table-responsive">
                <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                  <thead>
                    <tr>
                      <th>Canal</th>
                      <th>Impuesto</th>
                      <th>Regimen</th>
                      <th>% unica tarifa por canal</th>
                      <th class="center">
                        Seleccionar Todo
                        <input type="checkbox" [checked]="TodoCanalesImp" name="checkAll" (change)="onChangeAllCanalesVenta(DataCanalesImp, $event.target.checked)">
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="odd gradeX" *ngFor="let data of DataCanalesImp | modalcanalimpuestoventaingart: searchStringModalCanalImp | paginate: { itemsPerPage: itempageModalCanalImp, currentPage: mciv, id: 'modalcanalimpventa' }">
                      <td>{{data.nombre_canal}}</td>
                      <td>{{data.nombre_impuesto}}</td>
                      <td>{{data.nombre_regimen}}</td>
                      <td>{{data.ValorUnicaTarCanal}}</td>
                      <td class="center">
                        <input type="checkbox" name="check" [checked]="data.checked" (change)="onChangeCanalVenta(data, $event.target.checked)">
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="centrarpaginacion">
                  <pagination-controls (pageChange)="mciv = $event" id="modalcanalimpventa"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="MostrarCanalesVenta();" [disabled]="ListaCanalesImpSel.length === 0" data-dismiss="modal" class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" (click)="LimpiarFormCanalesVenta()" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div> -->

<!-- *********************** Fin Modal Canal Impuesto *************************** -->


<!-- ************************* Modal Eliminar Canal ***************************** -->

<div id="EliminarCanal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Confirmación</h4>
      </div>

      <div class="modal-body">
        <div class="centrarmodal">
          <h4>Esta seguro de eliminar el Canal</h4>
        </div>
        <div class="centrarhorizontal">
          <h5>Recuerde que si elimina el canal el artículo no podrá ser facturado por el mismo.</h5>
        </div>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="QuitarCanalVenta(DataCanalImp)" data-dismiss="modal" class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- *********************** Fin Modal Eliminar Canal *************************** -->


<!-- ************************** Modal Equivalencia ****************************** -->

<div id="Equivalencia" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Equivalencia</h4>
      </div>

      <div class="modal-body">
        <div class="row centrarhorizontal" *ngIf="DataNewArticulo.inventario">
          <label>Equivalencia con Unidad principal de Kardex:</label>
        </div>
        <form #EquivalenciaForm="ngForm">
          <!-- <br>
          <div class="row" *ngIf="DataNewArticulo.inventario">

            <div class="col-md-4">
              <label for="fac">Factor conversion
                <b class="asterisco">*</b>:</label>
            </div>
            <div class="col-md-3">
              <input type="radio" id="fac" name="DataEquivalencia.factor" [(ngModel)]="DataEquivalencia.factor"
                value='M' required>
              <b>Multiplica</b>
            </div>
            <div class="col-md-3">
              <input type="radio" id="fac" name="DataEquivalencia.factor" [(ngModel)]="DataEquivalencia.factor"
                value='D' required>
              <b>Divide</b>
            </div>
          </div> -->
          <br>
          <div class="row" *ngIf="DataNewArticulo.inventario">
            <div class="col-md-2 spaddi">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="DataEquivalencia.cantKardex"
                  [(ngModel)]="DataEquivalencia.cantKardex" (keypress)="kPNumerosPuntos($event)" required>
              </div>
            </div>
            <div class="col-md-4 spaddi">
              <div class="form-group">
                <label for="con">Unidad de Kardex:</label>
                <input type="text" readonly class="form-control" name="DataNewArticulo.nombreUnidadKardex"
                  [(ngModel)]="DataNewArticulo.nombreUnidadKardex">
              </div>
            </div>
            <div class="col-md-1 spaddi">
              <div class="form-group">
                <label for="con">Igual:</label>
                <br>
                <label class="topcenter"> =</label>
              </div>
            </div>
            <div class="col-md-2 spaddi">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="DataEquivalencia.cantidad"
                  [(ngModel)]="DataEquivalencia.cantidad" (keypress)="kPNumerosPuntos($event)" required>
              </div>
            </div>
            <div class="col-md-3 spaddi">
              <div class="form-group">
                <label for="con">Unidad de venta:</label>
                <br>
                <label class="topcenter" for="uni">{{DataNewArticulo.nombreUnidadVenta}}</label>

                <!-- <input type="text" readonly class="form-control" value={{DataNewArticulo.nombreUnidadVenta}}> -->
              </div>
            </div>

          </div>
        </form>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="GuardarEquivalencia(DataEquivalencia)" [disabled]="!EquivalenciaForm.valid"
            data-dismiss="modal" class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ************************ Fin Modal Equivalencia **************************** -->

<!-- ************************ Modal Unidad Principal Venta **************************** -->

<div id="UnidadPrincipal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Precios de venta</h4>
      </div>

      <div class="modal-body">
        <form #uniVenForm="ngForm">
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="nombre">Lista de precios
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DataUnidad.listaprecios" [(ngModel)]="DataUnidad.listaprecios"
                  #listpre="ngModel" required
                  [ngClass]="{'is-invalid': !listpre.valid && (listpre.dirty || listpre.touched)}">
                  <option [value]=""></option>
                  <option [value]="lista.id" *ngFor="let lista of DataArrayListaPrecios">{{lista.nombre}}</option>
                </select>
                <span class="invalid-feedback" *ngIf="listpre.errors && (listpre.dirty || listpre.touched)">
                  <li *ngIf="listpre.errors.required">
                    El campo Lista de precios es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row">

            <div class="col-md-12">
              <div class="form-group" class="enlace">
                <a (click)="clickCrearLista()">Crear Lista</a>
              </div>
              <div *ngIf="crearclickListaPrecios">
                <div class="form-inline">
                  <div class="form-group">
                    <label for="nombre">Nombre Lista
                      <b class="asterisco">*</b>:</label>
                    <input type="text" class="form-control" name="DataNewListPrecios.nombre"
                      [(ngModel)]="DataNewListPrecios.nombre" #nameList="ngModel" (keypress)="kPLetras($event);"
                      minlength="2" maxlength="30" required
                      [ngClass]="{'is-invalid': !nameList.valid && (nameList.dirty || nameList.touched)}" />
                    <span class="invalid-feedback" *ngIf="nameList.errors && (nameList.dirty || nameList.touched)">
                      <li *ngIf="nameList.errors.required">
                        El campo nombre es obligatorio
                      </li>
                      <li *ngIf="nameList.errors.minlength">
                        El campo nombre debe tener mas de 2 caracteres
                      </li>
                      <li *ngIf="nameList.errors.maxlength">
                        El campo nombre no puede ser mayor a 30 caracteres
                      </li>
                    </span>
                  </div>
                  <button type="submit" (click)="crearListaPrecios(DataNewListPrecios);"
                    [disabled]="!DataNewListPrecios.nombre" class="btnPrimary">Crear</button>
                </div>
              </div>

            </div>
          </div>
          <div class="row">

            <div class="col-md-12">
              <div class="form-group">
                <label for="nombre">Valor venta
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="DataUnidad.valorventa" [(ngModel)]="DataUnidad.valorventa"
                  #valven="ngModel" minlength="2" (keypress)="kPNumeros($event)" maxlength="100" required
                  [ngClass]="{'is-invalid': !valven.valid && (valven.dirty || valven.touched)}" />
                <span class="invalid-feedback" *ngIf="valven.errors && (valven.dirty || valven.touched)">
                  <li *ngIf="valven.errors.required">
                    El campo Valor venta es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="GuardarUnidadVenta(DataUnidad);" [disabled]="!uniVenForm.valid" data-dismiss="modal"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" (click)="LimpiarFormUnidadPrincipal()" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ********************** Fin Modal Unidad Principal ************************** -->


<!-- ******************* Modal Modificar Unidad Principal *********************** -->

<div id="ModificarUnidadPrincipal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Modificar Unidad principal</h4>
      </div>

      <div class="modal-body">
        <form #uniVenEditForm="ngForm">

          <div class="row">

            <div class="col-md-12">
              <div class="form-group">
                <label for="nombre">Lista de precios
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DatosEditUnidadPrincipal.listaprecios"
                  [(ngModel)]="DatosEditUnidadPrincipal.listaprecios" #listprec="ngModel" required
                  [ngClass]="{'is-invalid': !listprec.valid && (listprec.dirty || listprec.touched)}">
                  <option [value]=""></option>
                  <option [value]="lista.id" *ngFor="let lista of DataArrayListaPrecios">{{lista.nombre}}</option>
                </select>
                <span class="invalid-feedback" *ngIf="listprec.errors && (listprec.dirty || listprec.touched)">
                  <li *ngIf="listprec.errors.required">
                    El campo Lista de precios es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row">

            <div class="col-md-12">
              <div class="form-group">
                <label for="nombre">Valor venta
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="DatosEditUnidadPrincipal.valorVen"
                  [(ngModel)]="DatosEditUnidadPrincipal.valorVen" #valvent="ngModel" (keypress)="kPNumeros($event)"
                  minlength="2" maxlength="100" required
                  [ngClass]="{'is-invalid': !valvent.valid && (valvent.dirty || valvent.touched)}" />
                <span class="invalid-feedback" *ngIf="valvent.errors && (valvent.dirty || valvent.touched)">
                  <li *ngIf="valvent.errors.required">
                    El campo Valor venta es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button data-dismiss="modal" (click)="ModificarUnidadPrincipal(DatosEditUnidadPrincipal)"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ***************** Fin Modal Modificar Unidad Principal ********************* -->


<!-- ************************** Modal Unidad Alterna **************************** -->

<div id="UnidadAlternaVenta" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Unidad Alterna de venta</h4>
      </div>

      <div class="modal-body">

        <form #UnidAltVentaForm="ngForm">

          <div class="row">

            <div class="col-md-12">
              <div class="form-group">
                <label for="nombre">Unidad de Alterna
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DataUnidadAlterna.idUnidadAlterna"
                  [(ngModel)]="DataUnidadAlterna.idUnidadAlterna" (ngModelChange)="bindingUnidadAlternaVenta($event)"
                  #uniVentAlt="ngModel" required
                  [ngClass]="{'is-invalid': !uniVentAlt.valid && (uniVentAlt.dirty || uniVentAlt.touched)}">
                  <option [value]=""></option>
                  <option [value]="unidven.id" *ngFor="let unidven of DataArrayUnidadAlternaVenta">{{unidven.nombre}}
                  </option>
                </select>
                <span class="invalid-feedback" *ngIf="uniVentAlt.errors && (uniVentAlt.dirty || uniVentAlt.touched)">
                  <li *ngIf="uniVentAlt.errors.required">
                    El campo Unidad de Venta es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <a (click)="clickCrearUnidadAlternaVenta()">
                  <span class="enlace">Crear Unidad alterna</span>
                </a>
              </div>
            </div>
          </div>

          <div class="row" *ngIf="clickUniAlternaVenta">
            <div class="col-md-4">
              <label for="nombreUni">Nombre unidad alterna:</label>
            </div>
            <div class="col-md-4">
              <input type="text" class="form-control" name="DataUnidadAlterna.nuevaUnidadAlterna"
                [(ngModel)]="DataUnidadAlterna.nuevaUnidadAlterna">
            </div>
          </div>
          <div class="row" *ngIf="clickUniAlternaVenta">
            <div class="col-md-4">
              <label for="nombreUni">abreviatura unidad alterna:</label>
            </div>
            <div class="col-md-4">
              <input type="text" class="form-control" name="DataUnidadAlterna.abreviatura"
                [(ngModel)]="DataUnidadAlterna.abreviatura">
            </div>
            <div class="col-md-4">
              <button type="submit" [disabled]="!DataUnidadAlterna.nuevaUnidadAlterna || !DataUnidadAlterna.abreviatura"
                (click)="CrearUnidadAlternaVenta(DataUnidadAlterna);clickCrearUnidadAlternaVenta();"
                class="btnPrimary">Crear</button>
            </div>
          </div>


          <div class="row centrarhorizontal" *ngIf="DataUnidadAlterna.idUnidadAlterna != ''">
            <label>Equivalencia con Unidad principal de Venta:</label>
          </div>
          <br>
          <!-- <div class="row" *ngIf="DataUnidadAlterna.idUnidadAlterna != ''">
            <div class="col-md-4">
              <label for="facua">Factor conversion
                <b class="asterisco">*</b>:</label>
            </div>
            <div class="col-md-3">
              <input type="radio" id="facua" name="DataUnidadAlterna.factor" [(ngModel)]="DataUnidadAlterna.factor"
                value='M' required>
              <b>Multiplica</b>
            </div>
            <div class="col-md-3">
              <input type="radio" id="facua" name="DataUnidadAlterna.factor" [(ngModel)]="DataUnidadAlterna.factor"
                value='D' required>
              <b>Divide</b>
            </div>
          </div> -->
          <div class="row" *ngIf="DataUnidadAlterna.idUnidadAlterna != ''">
            <div class="col-md-2 spaddi">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="DataUnidadAlterna.cantidad"
                  [(ngModel)]="DataUnidadAlterna.cantidad" (keypress)="kPNumerosPuntos($event)">
              </div>
            </div>
            <div class="col-md-3 spaddi">
              <div class="form-group">
                <label for="con">{{DataUnidadAlterna.label}}:</label>
                <br>
                <input type="text" readonly class="form-control" value={{DataUnidadAlterna.nombreUnidad}}>
              </div>
            </div>
            <div class="col-md-1 spaddi">
              <div class="form-group">
                <label for="con">Igual:</label>
                <br>
                <label class="topcenter"> =</label>
              </div>
            </div>
            <div class="col-md-2 spaddi">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="DataUnidadAlterna.cantAlterna"
                  [(ngModel)]="DataUnidadAlterna.cantAlterna" (keypress)="kPNumerosPuntos($event)">
              </div>
            </div>
            <div class="col-md-4 spaddi">
              <div class="form-group">
                <label for="con">Unidad alterna:</label>
                <input type="text" readonly class="form-control" name="DataUnidadAlterna.nombreUniAlterna"
                  [(ngModel)]="DataUnidadAlterna.nombreUniAlterna">
              </div>
            </div>
          </div>

          <!-- <div class="row">
            <div class="form-group" [ngClass]="{'is-invalid': !listpreca.valid && (listpreca.dirty || listpreca.touched)}">
              <label for="nombre">Lista de precios
                <b class="asterisco">*</b>:</label>
              <select class="form-control" name="DataUnidadAlterna.listaprecios" [(ngModel)]="DataUnidadAlterna.listaprecios" #listpreca="ngModel"
                required>
                <option [value]=""></option>
                <option [value]="lista.id" *ngFor="let lista of DataArrayListaPrecios">{{lista.nombre}}</option>
              </select>
              <span class="invalid-feedback" *ngIf="listpreca.errors && (listpreca.dirty || listpreca.touched)">
                <li *ngIf="listpreca.errors.required">
                  El campo Lista de precios es obligatorio
                </li>
              </span>
            </div>
          </div>
          <div class="row">
            <div class="form-group" [ngClass]="{'is-invalid': !valventalt.valid && (valventalt.dirty || valventalt.touched)}">
              <label for="nombre">Valor venta
                <b class="asterisco">*</b>:</label>
              <input type="text" class="form-control" name="DataUnidadAlterna.valorventa" [(ngModel)]="DataUnidadAlterna.valorventa" #valventalt="ngModel"
                (keypress)="kPNumeros($event)" minlength="1" maxlength="100" required />
              <span class="invalid-feedback" *ngIf="valventalt.errors && (valventalt.dirty || valventalt.touched)">
                <li *ngIf="valventalt.errors.required">
                  El campo Valor venta es obligatorio
                </li>
                <li *ngIf="valventalt.errors.minlength">
                  El campo Valor venta debe ser mayor a 1 caracter*
                </li>
              </span>
            </div>
          </div> -->
        </form>

      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button data-dismiss="modal" (click)="GuardarUnidadAlternaVenta(DataUnidadAlterna)"
            [disabled]="!UnidAltVentaForm.valid || DataNewArticulo.nombreUnidadVenta ==='' "
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" (click)="LimpiarFormUnidadAlternaVenta()"
            class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ************************ Fin Modal Unidad Alterna ************************** -->


<!-- ********************* Modal Modificar Unidad Alterna *********************** -->

<div id="ModificarUnidadAlternaVenta" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Unidad Alterna de venta</h4>
      </div>

      <div class="modal-body">

        <form #UnidAltVentaEditForm="ngForm">

          <div class="row">

            <div class="col-md-12">
              <div class="form-group">
                <label for="nombre">Unidad de Alterna
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DatosEditUnidadAlterna.idUnidadAlterna"
                  [(ngModel)]="DatosEditUnidadAlterna.idUnidadAlterna"
                  (ngModelChange)="bindingUnidadAlternaVenta($event)" #uniVentAlte="ngModel" required
                  [ngClass]="{'is-invalid': !uniVentAlte.valid && (uniVentAlte.dirty || uniVentAlte.touched)}">
                  <option [value]=""></option>
                  <option [value]="unidven.id" *ngFor="let unidven of DataArrayUnidadAlternaVenta">{{unidven.nombre}}
                  </option>
                </select>
                <span class="invalid-feedback" *ngIf="uniVentAlte.errors && (uniVentAlte.dirty || uniVentAlte.touched)">
                  <li *ngIf="uniVentAlte.errors.required">
                    El campo Unidad de Venta es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <a (click)="clickCrearUnidadAlternaVenta()">
                <span class="enlace">Crear Unidad alterna</span>
              </a>
            </div>
          </div>

          <div class="row" *ngIf="clickUniAlternaVenta">
            <div class="col-md-4">
              <label for="nombreUni">Nombre unidad alterna:</label>
            </div>
            <div class="col-md-4">
              <input type="text" class="form-control" name="DatosEditUnidadAlterna.nuevaUnidadAlterna"
                [(ngModel)]="DatosEditUnidadAlterna.nuevaUnidadAlterna">
            </div>
            <!-- <div class="col-md-4">
              <button type="submit" [disabled]="!DatosEditUnidadAlterna.nuevaUnidadAlterna" (click)="CrearUnidadAlternaVenta(DataUnidadAlterna.nuevaUnidadAlterna);"
                class="btnPrimary">Crear</button>
            </div> -->
          </div>

          <div class="row" *ngIf="clickUniAlternaVenta">
            <div class="col-md-4">
              <label for="nombreUni">abreviatura unidad alterna:</label>
            </div>
            <div class="col-md-4">
              <input type="text" class="form-control" name="DatosEditUnidadAlterna.abreviatura"
                [(ngModel)]="DatosEditUnidadAlterna.abreviatura">
            </div>
            <div class="col-md-4">
              <button type="submit"
                [disabled]="!DatosEditUnidadAlterna.nuevaUnidadAlterna || !DatosEditUnidadAlterna.abreviatura"
                (click)="CrearUnidadAlternaVenta(DatosEditUnidadAlterna);clickCrearUnidadAlternaVenta();"
                class="btnPrimary">Crear</button>
            </div>
          </div>

          <div class="row centrarhorizontal" *ngIf="DatosEditUnidadAlterna.idUnidadAlterna != ''">
            <label>Equivalencia con Unidad principal de Venta:</label>
          </div>
          <br>
          <!-- <div class="row" *ngIf="DatosEditUnidadAlterna.idUnidadAlterna != ''">
            <div class="col-md-4">
              <label for="facuae">Factor conversion
                <b class="asterisco">*</b>:</label>
            </div>
            <div class="col-md-3">
              <input type="radio" id="facuae" name="DatosEditUnidadAlterna.factor"
                [(ngModel)]="DatosEditUnidadAlterna.factor" value='M' required>
              <b>Multiplica</b>
            </div>
            <div class="col-md-3">
              <input type="radio" id="facuae" name="DatosEditUnidadAlterna.factor"
                [(ngModel)]="DatosEditUnidadAlterna.factor" value='D' required>
              <b>Divide</b>
            </div>
          </div> -->
          <div class="row" *ngIf="DatosEditUnidadAlterna.idUnidadAlterna != ''">
            <div class="col-md-2 spaddi">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="DatosEditUnidadAlterna.cantidadVenta"
                  [(ngModel)]="DatosEditUnidadAlterna.cantidadVenta" (keypress)="kPNumerosPuntos($event)">
              </div>
            </div>
            <div class="col-md-3 spaddi">
              <div class="form-group">
                <label for="con">{{DatosEditUnidadAlterna.label}}:</label>
                <br>
                <input type="text" readonly class="form-control" value={{DatosEditUnidadAlterna.nombreUnidad}}>
              </div>
            </div>
            <div class="col-md-1 spaddi">
              <div class="form-group">
                <label for="con">Igual:</label>
                <br>
                <label class="topcenter"> =</label>
              </div>
            </div>
            <div class="col-md-2 spaddi">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="DatosEditUnidadAlterna.cantAlterna"
                  [(ngModel)]="DatosEditUnidadAlterna.cantAlterna" (keypress)="kPNumerosPuntos($event)">
              </div>
            </div>
            <div class="col-md-4 spaddi">
              <div class="form-group">
                <label for="con">Unidad alterna:</label>
                <input type="text" readonly class="form-control" name="DatosEditUnidadAlterna.nombreUniAlterna"
                  [(ngModel)]="DatosEditUnidadAlterna.nombreUniAlterna">
              </div>
            </div>
          </div>

          <!-- <div class="row">
            <div class="form-group" [ngClass]="{'is-invalid': !listpreca.valid && (listpreca.dirty || listpreca.touched)}">
              <label for="nombre">Lista de precios
                <b class="asterisco">*</b>:</label>
              <select class="form-control" name="DatosEditUnidadAlterna.listaprecios" [(ngModel)]="DatosEditUnidadAlterna.listaprecios"
                #listpreca="ngModel" required>
                <option [value]=""></option>
                <option [value]="lista.id" *ngFor="let lista of DataArrayListaPrecios">{{lista.nombre}}</option>
              </select>
              <span class="invalid-feedback" *ngIf="listpreca.errors && (listpreca.dirty || listpreca.touched)">
                <li *ngIf="listpreca.errors.required">
                  El campo Lista de precios es obligatorio
                </li>
              </span>
            </div>
          </div>
          <div class="row">
            <div class="form-group" [ngClass]="{'is-invalid': !valventalt.valid && (valventalt.dirty || valventalt.touched)}">
              <label for="nombre">Valor venta
                <b class="asterisco">*</b>:</label>
              <input type="text" class="form-control" name="DatosEditUnidadAlterna.valorventa" [(ngModel)]="DatosEditUnidadAlterna.valorventa"
                #valventalt="ngModel" (keypress)="kPNumeros($event)" minlength="1" maxlength="100" required />
              <span class="invalid-feedback" *ngIf="valventalt.errors && (valventalt.dirty || valventalt.touched)">
                <li *ngIf="valventalt.errors.required">
                  El campo Valor venta es obligatorio
                </li>
                <li *ngIf="valventalt.errors.minlength">
                  El campo Valor venta debe ser mayor a 1 caracter*
                </li>
              </span>
            </div>
          </div> -->
        </form>

      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button data-dismiss="modal" (click)="ModificarUnidadAlterna(DatosEditUnidadAlterna)"
            [disabled]="!UnidAltVentaEditForm.valid" class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ******************* Fin Modal Modificar Unidad Alterna ********************* -->

<!-- ************************** Modal Unidades Presentacion **************************** -->

<div id="UnidadesPresentacion" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Unidades de presentación</h4>
      </div>

      <div class="modal-body">

        <form #UnidPresentacionForm="ngForm">

          <div class="row">

            <div class="col-md-12">
              <div class="form-group">
                <label for="nombre">Unidad de Presentacion:</label>
                <select class="form-control" name="DataUndPresentacion.idUnidadPresentacion"
                  [(ngModel)]="DataUndPresentacion.idUnidadPresentacion" #uniVen="ngModel" required
                  (change)="bindingPresentacionUndKardex(DataUndPresentacion.idUnidadPresentacion)"
                  [ngClass]="{'is-invalid': !uniVen.valid && (uniVen.dirty || uniVen.touched)}">
                  <option [value]=""></option>
                  <option [value]="unidven.id" *ngFor="let unidven of DataArrayUnidadVenta">{{unidven.nombre}}</option>
                </select>
                <span class="invalid-feedback" *ngIf="uniVen.errors && (uniVen.dirty || uniVen.touched)">
                  <li *ngIf="uniVen.errors.required">
                    El campo Unidad de Presentacion es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <a (click)="clickCrearUnidadPresentacion()">
                <span class="enlace">Crear Unidad de presentación</span>
              </a>
            </div>
          </div>

          <div class="row" *ngIf="clickCrearUndPresentacion">
            <div class="col-md-4">
              <label for="nombreUni">Nombre unidad de presentación:</label>
            </div>
            <div class="col-md-4">
              <input type="text" class="form-control" name="DataNewUnidadPresentacion.nombreUnidadPresentacion"
                [(ngModel)]="DataNewUnidadPresentacion.nombreUnidadPresentacion">
            </div>
          </div>
          <div class="row" *ngIf="clickCrearUndPresentacion">
            <div class="col-md-4">
              <label for="nombreUni">Abreviatura unidad de presentación:</label>
            </div>
            <div class="col-md-4">
              <input type="text" class="form-control" name="DataNewUnidadPresentacion.abreviatura"
                [(ngModel)]="DataNewUnidadPresentacion.abreviatura" minlength="1" maxlength="4">
            </div>
            <div class="col-md-4">
              <button type="submit"
                [disabled]="!DataNewUnidadPresentacion.nombreUnidadPresentacion || !DataNewUnidadPresentacion.abreviatura"
                (click)="CrearUnidadPresentacion(DataNewUnidadPresentacion);clickCrearUnidadPresentacion();"
                class="btnPrimary">Crear</button>
            </div>
          </div>

          <!--
            <div class="row centrarhorizontal" *ngIf="DataUnidadAlterna.idUnidadAlterna != ''">
              <label>Equivalencia con Unidad principal de Venta:</label>
            </div>
            <br>
            <div class="row" *ngIf="DataUnidadAlterna.idUnidadAlterna != ''">
              <div class="col-md-4">
                <label for="facua">Factor conversion
                  <b class="asterisco">*</b>:</label>
              </div>
              <div class="col-md-3">
                <input type="radio" id="facua" name="DataUnidadAlterna.factor" [(ngModel)]="DataUnidadAlterna.factor" [value]=1 required>
                <b>Multiplica</b>
              </div>
              <div class="col-md-3">
                <input type="radio" id="facua" name="DataUnidadAlterna.factor" [(ngModel)]="DataUnidadAlterna.factor" [value]=2 required>
                <b>Divide</b>
              </div>
            </div>
            <div class="row" *ngIf="DataUnidadAlterna.idUnidadAlterna != ''">
              <div class="col-md-2">
                <div class="form-group">
                  <label for="cant">Cantidad:</label>
                  <input type="text" class="form-control" name="DataUnidadAlterna.cantidad" [(ngModel)]="DataUnidadAlterna.cantidad" (keypress)="kPNumerosPuntos($event)">
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-group">
                  <label for="con">Unidad de venta:</label>
                  <br>
                  <input type="text" readonly class="form-control" value={{DataNewArticulo.nombreUnidadVenta}}>
                </div>
              </div>
              <div class="col-md-1">
                <div class="form-group">
                  <label for="con">Igual:</label>
                  <br>
                  <label class="topcenter"> =</label>
                </div>
              </div>
              <div class="col-md-2">
                <div class="form-group">
                  <label for="cant">Cantidad:</label>
                  <input type="text" class="form-control" name="DataUnidadAlterna.cantAlterna" [(ngModel)]="DataUnidadAlterna.cantAlterna"
                    (keypress)="kPNumerosPuntos($event)">
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-group">
                  <label for="con">Unidad alterna:</label>
                  <input type="text" readonly class="form-control" name="DataUnidadAlterna.nombreUniAlterna" [(ngModel)]="DataUnidadAlterna.nombreUniAlterna">
                </div>
              </div>
            </div> -->

          <div class="row">

            <div class="col-md-12">
              <div class="form-group">
                <label for="lpup">Lista de precios
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" id="lpup" name="DataUndPresentacion.listaprecios"
                  [(ngModel)]="DataUndPresentacion.listaprecios" #listprecup="ngModel" required
                  [ngClass]="{'is-invalid': !listprecup.valid && (listprecup.dirty || listprecup.touched)}">
                  <option [value]=""></option>
                  <option [value]="lista.id" *ngFor="let lista of DataArrayListaPrecios">{{lista.nombre}}</option>
                </select>
                <span class="invalid-feedback" *ngIf="listprecup.errors && (listprecup.dirty || listprecup.touched)">
                  <li *ngIf="listprecup.errors.required">
                    El campo Lista de precios es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row">

            <div class="col-md-12">
              <div class="form-group">
                <label for="vvup">Valor venta
                  <b class="asterisco">*</b>:</label>
                <input type="text" id="vvup" class="form-control" name="DataUndPresentacion.valorventa"
                  [(ngModel)]="DataUndPresentacion.valorventa" #valventup="ngModel" (keypress)="kPNumeros($event)"
                  minlength="2" maxlength="100" required
                  [ngClass]="{'is-invalid': !valventup.valid && (valventup.dirty || valventup.touched)}" />
                <span class="invalid-feedback" *ngIf="valventup.errors && (valventup.dirty || valventup.touched)">
                  <li *ngIf="valventup.errors.required">
                    El campo Valor venta es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
        </form>

      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button data-dismiss="modal" (click)="GuardarUnidadPresentacion(DataUndPresentacion)"
            [disabled]="!UnidPresentacionForm.valid" class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" (click)="LimpiarFormUnidadPresentacion()"
            class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ************************ Fin Modal Unidades Presentacion ************************** -->


<!-- ************************** Modal Modificar Unidad Presentacion **************************** -->

<div id="ModificarUnidadPresentacion" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Unidades de presentación</h4>
      </div>

      <div class="modal-body">

        <form #UnidPresentacionEditForm="ngForm">

          <div class="row">
            <div class="col-md-12">

              <div class="form-group">
                <label for="upedit">Unidad de Presentacion:</label>
                <select class="form-control" name="DatosEditUnidadPresentacion.idUnidadPresentacion"
                  [(ngModel)]="DatosEditUnidadPresentacion.idUnidadPresentacion" #uniVened="ngModel" id="upedit"
                  required [ngClass]="{'is-invalid': !uniVened.valid && (uniVened.dirty || uniVened.touched)}">
                  <option [value]=""></option>
                  <option [value]="unidpre.id" >{{unidpre.nombre}}
                  </option>
                </select>
                <span class="invalid-feedback" *ngIf="uniVened.errors && (uniVened.dirty || uniVened.touched)">
                  <li *ngIf="uniVened.errors.required">
                    El campo Unidad de Presentacion es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <a (click)="clickCrearUnidadPresentacion()">
                <span class="enlace">Crear Unidad de presentación</span>
              </a>
            </div>
          </div>

          <div class="row" *ngIf="clickCrearUndPresentacion">
            <div class="col-md-4">
              <label for="nombreUni">Nombre unidad de presentación:</label>
            </div>
            <div class="col-md-4">
              <input type="text" class="form-control" name="DataNewUnidadPresentacion.nombreUnidadPresentacion"
                [(ngModel)]="DataNewUnidadPresentacion.nombreUnidadPresentacion">
            </div>
          </div>
          <div class="row" *ngIf="clickCrearUndPresentacion">
            <div class="col-md-4">
              <label for="nombreUni">Abreviatura unidad de presentación:</label>
            </div>
            <div class="col-md-4">
              <input type="text" class="form-control" name="DataNewUnidadPresentacion.abreviatura"
                [(ngModel)]="DataNewUnidadPresentacion.abreviatura" minlength="1" maxlength="4">
            </div>
            <div class="col-md-4">
              <button type="submit"
                [disabled]="!DataNewUnidadPresentacion.nombreUnidadPresentacion || !DataNewUnidadPresentacion.abreviatura"
                (click)="CrearUnidadPresentacion(DataNewUnidadPresentacion);clickCrearUnidadPresentacion();"
                class="btnPrimary">Crear</button>
            </div>
          </div>

          <div class="row">

            <div class="col-md-12">
              <div class="form-group">
                <label for="lpuped">Lista de precios
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" id="lpuped" name="DatosEditUnidadPresentacion.listaprecios"
                  [(ngModel)]="DatosEditUnidadPresentacion.listaprecios" #listprecupe="ngModel" required
                  [ngClass]="{'is-invalid': !listprecupe.valid && (listprecupe.dirty || listprecupe.touched)}">
                  <option [value]=""></option>
                  <option [value]="lista.id" *ngFor="let lista of DataArrayListaPrecios">{{lista.nombre}}</option>
                </select>
                <span class="invalid-feedback" *ngIf="listprecupe.errors && (listprecupe.dirty || listprecupe.touched)">
                  <li *ngIf="listprecupe.errors.required">
                    El campo Lista de precios es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="vvuped">Valor venta
                  <b class="asterisco">*</b>:</label>
                <input type="text" id="vvuped" class="form-control" name="DatosEditUnidadPresentacion.valorven"
                  [(ngModel)]="DatosEditUnidadPresentacion.valorven" #valventuped="ngModel"
                  (keypress)="kPNumeros($event)" minlength="2" maxlength="100" required
                  [ngClass]="{'is-invalid': !valventuped.valid && (valventuped.dirty || valventuped.touched)}" />
                <span class="invalid-feedback" *ngIf="valventuped.errors && (valventuped.dirty || valventuped.touched)">
                  <li *ngIf="valventuped.errors.required">
                    El campo Valor venta es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
        </form>

      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button data-dismiss="modal" (click)="ModificarUnidadPresentacion(DatosEditUnidadPresentacion)"
            [disabled]="!UnidPresentacionEditForm.valid" class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ************************ Fin Modal Modificar Unidad Presentacion ************************** -->


<!-- ************************ Modal Grupos de Seleccion ************************* -->

<div id="GruposSeleccion" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Grupos Selección</h4>
      </div>

      <div class="modal-body">

        <div class="tablaconfig">
          <div class="centrar buscar-paginacionconfig">
            <div class="buscar-paginacion2">
              <input type="text" class="form-control" name="searchStringGSeleccion" placeholder="Buscar"
                [(ngModel)]="searchStringGSeleccion">
            </div>
            <div class="buscar-paginacion2">
              <select class="form-control" name="itempageGSeleccion" [(ngModel)]="itempageGSeleccion">
                <option value="5" selected="selected">Grupos Selección Por Página</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="40">40</option>
                <option value="50">50</option>
              </select>
            </div>
          </div>

          <div>
            <div class="loading" *ngIf="loader">
              <i class="fas fa-sync-alt fa-spin fa-3x"></i>
            </div>
            <div class="loadError" *ngIf="LoadError">
              <div class="alert alert-danger">{{error}}</div>
            </div>
            <div *ngIf="LoadTabla">
              <div class="panel-body table-responsive">
                <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                  <thead>
                    <tr>
                      <th>Nombre Grupo</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="odd gradeX"
                      (click)="clickFilaGruposSeleccion(data.id);habilitarSeleccion(DataGupoSel.id_grupo)"
                      *ngFor="let data of DataJsonGruposSeleccion | modalgruposseleccioningart: searchStringGSeleccion | paginate: { itemsPerPage: itempagePuntos, currentPage: mgs, id: 'modalgruposseleccion' }">
                      <td>{{data.nombre}}</td>
                      <td class="center">
                        <input type="radio" name="DataGupoSel.id_grupo" value="{{data.id}}"
                          [(ngModel)]="DataGupoSel.id_grupo" (ngModelChange)="habilitarSeleccion(DataGupoSel.id_grupo)"
                          required>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="centrarpaginacion">
                  <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="mgs = $event" id="modalgruposseleccion"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </div>
        <form #GrupoSelForm="ngForm">

          <div class="row" *ngIf="!TipoSeleccion">
            <div class="col-md-12">
              <div class="form-group">
                <label for="unidad">Cantidad
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="DataGupoSel.cantidad" [(ngModel)]="DataGupoSel.cantidad"
                  #cantGru="ngModel" (keypress)="kPNumeros($event)" (ngModelChange)="validarCantidadGrupos($event)"
                  required [ngClass]="{'is-invalid': !cantGru.valid && (cantGru.dirty || cantGru.touched)}" />
                <span class="invalid-feedback" *ngIf="cantGru.errors && (cantGru.dirty || cantGru.touched)">
                  <li *ngIf=cantGru.errors.required>
                    El campo cantidad es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button data-dismiss="modal" (click)="MostrarGruposSeleccionVenta(DataGupoSel)"
            [disabled]="!GrupoSelForm.valid || !DataGupoSel.id_grupo || cant_superior"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" (click)="LimpiarFormGruSeleccion()" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ********************** Fin Modal Grupos de Seleccion *********************** -->


<!-- ******************* Modal Modificar Grupos de Seleccion ******************** -->

<div id="ModificarGrupoSeleccion" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Grupos Seleccion</h4>
      </div>

      <div class="modal-body">

        <div class="tablaconfig">
          <div class="centrar buscar-paginacionconfig">
            <div class="buscar-paginacion2">
              <input type="text" class="form-control" name="searchStringGSeleccion" placeholder="Buscar"
                [(ngModel)]="searchStringGSeleccion">
            </div>
            <div class="buscar-paginacion2">
              <select class="form-control" name="itempageGSeleccion" [(ngModel)]="itempageGSeleccion">
                <option value="5" selected="selected">Grupos Seleccion Por Página</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="40">40</option>
                <option value="50">50</option>
              </select>
            </div>
          </div>

          <div>
            <div class="loading" *ngIf="loader">
              <i class="fas fa-sync-alt fa-spin fa-3x"></i>
            </div>
            <div class="loadError" *ngIf="LoadError">
              <div class="alert alert-danger">{{error}}</div>
            </div>
            <div *ngIf="LoadTabla">
              <div class="panel-body table-responsive">
                <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                  <thead>
                    <tr>
                      <th>Nombre Grupo</th>
                      <th>Seleccionar</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="odd gradeX" (click)="clickFilaGrupoSeleccionEdit(data.id)"
                      *ngFor="let data of DataJsonGruposSeleccion | modaleditgruposseleccioningart: searchStringGSeleccion | paginate: { itemsPerPage: itempagePuntos, currentPage: mgs, id: 'modalgruposseleccion' }">
                      <td>{{data.nombre}}</td>
                      <td class="center">
                        <input type="radio" name="DataEditGrupo.id_grupo" value="{{data.id}}"
                          [(ngModel)]="DataEditGrupo.id_grupo"
                          (ngModelChange)="habilitarSeleccionEdit(DataEditGrupo.id_grupo)" required>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="centrarpaginacion">
                  <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="mgs = $event" id="modalgruposseleccion"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </div>
        <form #GrupoSelEditForm="ngForm">
          <div class="row" *ngIf="!TipoGrupoSeleccion">

            <div class="col-md-12">
              <div class="form-group">
                <label for="unidad">Cantidad
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="DataEditGrupo.cantidadGrupo"
                  [(ngModel)]="DataEditGrupo.cantidadGrupo" #cantGrup="ngModel" (keypress)="kPNumeros($event)" required
                  [ngClass]="{'is-invalid': !cantGrup.valid && (cantGrup.dirty || cantGrup.touched)}" />
                <span class="invalid-feedback" *ngIf="cantGrup.errors && (cantGrup.dirty || cantGrup.touched)">
                  <li *ngIf=cantGrup.errors.required>
                    El campo cantidad es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button data-dismiss="modal" (click)="ModificarGrupoSeleccion(DataEditGrupo)"
            [disabled]="!GrupoSelEditForm.valid || !DataEditGrupo.id_grupo" class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ***************** Fin Modal Modificar Grupos de Seleccion ****************** -->


<!-- ************************** Modal Canales Receta **************************** -->

<div id="CanalReceta" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Canales</h4>
      </div>

      <div class="modal-body">

        <div class="tablaconfig">
          <div class="centrar buscar-paginacionconfig">
            <div class="buscar-paginacion2">
              <input type="text" class="form-control" name="searchStringCanales" placeholder="Buscar"
                [(ngModel)]="searchStringCanales">
            </div>
            <div class="buscar-paginacion2">
              <select class="form-control" name="itempageCanales" [(ngModel)]="itempageCanales">
                <option value="5" selected="selected">Canales Por Página</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="40">40</option>
                <option value="50">50</option>
              </select>
            </div>
          </div>

          <div>
            <div class="loading" *ngIf="loader">
              <i class="fas fa-sync-alt fa-spin fa-3x"></i>
            </div>
            <div class="loadError" *ngIf="LoadError">
              <div class="alert alert-danger">{{error}}</div>
            </div>
            <div *ngIf="LoadTabla">
              <div class="panel-body table-responsive">
                <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                  <thead>
                    <tr>
                      <th>Nombre Canal</th>
                      <th class="center">
                        Seleccionar Todo
                        <input type="checkbox" [checked]="TodoRecCanal" name="checkAllMax"
                          (change)="onChangeAllCanalesReceta(DataJsonClienteCanal, $event.target.checked)">
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="odd gradeX" (click)="onChangeCanalReceta(data, !data.checked)"
                      *ngFor="let data of DataJsonClienteCanal | modalcanalesrecetaingart: searchStringCanales | paginate: { itemsPerPage: itempageCanales, currentPage: mcr, id:'modalcanalrec' }">
                      <td>{{data.nombre_canal}}</td>
                      <td class="center">
                        <input type="checkbox" name="checkMax" [checked]="data.checkedRec"
                          (change)="onChangeCanalReceta(data, $event.target.checked)">
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="centrarpaginacion">
                  <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="mcr = $event" id="modalcanalrec"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button data-dismiss="modal" (click)="MostrarCanalesRec()" [disabled]="ListaCanalRec.length === 0"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" (click)="LimpiarFormCanalesReceta()" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ************************ Fin Modal Canales Receta ************************** -->


<!-- *********************** Modal Ingredientes Receta ************************** -->

<div id="Ingredientes" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Ingredientes</h4>
      </div>

      <div class="modal-body">


        <div class="tablaconfig">
          <div class="centrar buscar-paginacionconfig">
            <div class="buscar-paginacion2">
              <input type="text" class="form-control" name="searchStringArtInv" placeholder="Buscar"
                [(ngModel)]="searchStringArtInv">
            </div>
            <div class="buscar-paginacion2">
              <select class="form-control" name="itempageArtInv" [(ngModel)]="itempageArtInv">
                <option value="5" selected="selected">Articulos Por Página</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="40">40</option>
                <option value="50">50</option>
              </select>
            </div>
          </div>

          <div>
            <div class="loading" *ngIf="loader">
              <i class="fas fa-sync-alt fa-spin fa-3x"></i>
            </div>
            <div class="loadError" *ngIf="LoadError">
              <div class="alert alert-danger">{{error}}</div>
            </div>
            <div *ngIf="LoadTabla">
              <div class="panel-body table-responsive">
                <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                  <thead>
                    <tr>
                      <th>Nombre Articulo</th>
                      <th class="center">
                        Seleccionar </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="odd gradeX"
                      (click)="clickFilaIngredientes(data.id_articulo);selUnidadKardex(data.id_articulo);"
                      *ngFor="let data of DataJsonArtInventario | modalingredientesrecetaingart: searchStringArtInv | paginate: { itemsPerPage: itempageArtInv, currentPage: mai, id:'modalArtInv' }">
                      <td>{{data.nombre_articulo}}</td>
                      <td class="center">
                        <input type="radio" name="DataIngredientes.id_articulo" value="{{data.id_articulo}}"
                          [(ngModel)]="DataIngredientes.id_articulo"
                          (change)="selUnidadKardex(DataIngredientes.id_articulo);" required>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="centrarpaginacion">
                  <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="mai = $event" id="modalArtInv"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </div>
        <form #IngredientesForm="ngForm">
          <div class="row">

            <div class="col-md-12">
              <div class="form-group">
                <label for="unidad">Cantidad
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="DataIngredientes.cantidadIngrediente"
                  [(ngModel)]="DataIngredientes.cantidadIngrediente" #cantIngr="ngModel"
                  (keypress)="kPNumerosPuntos($event)" required
                  [ngClass]="{'is-invalid': !cantIngr.valid && (cantIngr.dirty || cantIngr.touched)}" />
                <span class="invalid-feedback" *ngIf="cantIngr.errors && (cantIngr.dirty || cantIngr.touched)">
                  <li *ngIf=cantIngr.errors.required>
                    El campo cantidad es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <!-- <div class="form-group" [ngClass]="{'is-invalid': !uniEquiv.valid && (uniEquiv.dirty || uniEquiv.touched)}">
              <label for="unidad">Unidad
                <b class="asterisco">*</b>:</label>
              <input name="DataIngredientes.unidad" [(ngModel)]="DataIngredientes.unidad" class="form-control" (ngModelChange)="ValidarUnidadIngrediente($event);"
                list="ingredientes" name="ingredientes" #uniEquiv="ngModel" required>
              <datalist id="ingredientes">
                <option [value]="unEqui.nombre" required *ngFor="let unEqui of DataJsonEquivalenciaUnidad"></option>
              </datalist>
              <span class="invalid-feedback" *ngIf="uniEquiv.errors && (uniEquiv.dirty || uniEquiv.touched)">
                <li *ngIf="uniEquiv.errors.required">
                  El campo unidad es obligatorio
                </li>
              </span>
            </div> -->

            <div class="col-md-12">
              <div class="form-group">
                <label for="nombre">Unidad
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DataIngredientes.id_unidad" [(ngModel)]="DataIngredientes.id_unidad"
                  #uniKardex="ngModel" required
                  [ngClass]="{'is-invalid': !uniKardex.valid && (uniKardex.dirty || uniKardex.touched)}"
                  (change)="consultarTblConversion(DataIngredientes.idUniKardex, DataIngredientes.id_unidad)">
                  <option [value]=""></option>
                  <option [value]="unKardex.id" *ngFor="let unKardex of DataJsonUndKardexIngredientes">
                    {{unKardex.nombre}}
                  </option>
                </select>
                <span class="invalid-feedback" *ngIf="uniKardex.errors && (uniKardex.dirty || uniKardex.touched)">
                  <li *ngIf="uniKardex.errors.required">
                    El campo unidad es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>



          <!-- <div class="row" *ngIf="crearCon">
            <div class="col-md-4">
              <label for="fac">Factor conversion
                <b class="asterisco">*</b>:</label>
            </div>
            <div class="col-md-3">
              <input type="radio" id="fac" name="DataIngredientes.crearoperando"
                [(ngModel)]="DataIngredientes.crearoperando" value='M' required>
              <b>Multiplica</b>
            </div>
            <div class="col-md-3">
              <input type="radio" id="fac" name="DataIngredientes.crearoperando"
                [(ngModel)]="DataIngredientes.crearoperando" value='D' required>
              <b>Divide</b>
            </div>
          </div> -->

          <div class="row" *ngIf="crearCon">
            <div class="col-md-2 spaddi">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="DataIngredientes.cantConvKardex"
                  [(ngModel)]="DataIngredientes.cantConvKardex" required>
              </div>
            </div>
            <div class="col-md-3 spaddi">
              <div class="form-group">
                <label for="con">Und de kardex:</label>
                <input type="text" readonly class="form-control" name="DataIngredientes.nombreUniKardex"
                  [(ngModel)]="DataIngredientes.nombreUniKardex">
              </div>
            </div>
            <div class="col-md-1 spaddi">
              <div class="form-group">
                <label for="con">Igual:</label>
                <br>
                <label class="topcenter"> =</label>
              </div>
            </div>
            <div class="col-md-2 spaddi">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="DataIngredientes.cantConvCompra"
                  [(ngModel)]="DataIngredientes.cantConvCompra" required>
              </div>
            </div>
            <div class="col-md-3 spaddi">
              <div class="form-group">
                <label for="con">Und conversión:</label>
                <br>
                <label class="topcenter" for="uni">{{DataIngredientes.nom_unidad}}</label>
              </div>
            </div>
          </div>


        </form>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button data-dismiss="modal" (click)="MostrarIngredientes(DataIngredientes)"
            [disabled]="!IngredientesForm.valid || existeIngrediente || !DataIngredientes.id_articulo || ConsultaConversion"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" (click)="LimpiarFormIngredientes()" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ********************* Fin Modal Ingredientes Receta ************************ -->


<!-- ****************** Modal Modificar Ingrediente Receta  ********************* -->

<div id="ModificarIngrediente" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Ingrediente</h4>
      </div>

      <div class="modal-body">


        <div class="tablaconfig">
          <div class="centrar buscar-paginacionconfig">
            <div class="buscar-paginacion2">
              <input type="text" class="form-control" name="searchStringEditArtInv" placeholder="Buscar"
                [(ngModel)]="searchStringEditArtInv">
            </div>
            <div class="buscar-paginacion2">
              <select class="form-control" name="itempageEditArtInv" [(ngModel)]="itempageEditArtInv">
                <option value="5" selected="selected">Articulos Por Página</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="40">40</option>
                <option value="50">50</option>
              </select>
            </div>
          </div>

          <div>
            <div class="loading" *ngIf="loader">
              <i class="fas fa-sync-alt fa-spin fa-3x"></i>
            </div>
            <div class="loadError" *ngIf="LoadError">
              <div class="alert alert-danger">{{error}}</div>
            </div>
            <div *ngIf="LoadTabla">
              <div class="panel-body table-responsive">
                <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                  <thead>
                    <tr>
                      <th>Nombre Articulo</th>
                      <th class="center">
                        Seleccionar </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="odd gradeX"
                      (click)="clickFilaEditIngredientes(data.id_articulo);selUnidadKardexEdit(data.id_articulo);"
                      *ngFor="let data of DataJsonArtInventario | modaleditingredientesrecetaingart: searchStringEditArtInv | paginate: { itemsPerPage: itempageEditArtInv, currentPage: meai, id:'modalEditArtInv' }">
                      <td>{{data.nombre_articulo}}</td>
                      <td class="center">
                        <input type="radio" name="dataEditIngrediente.id_articulo" value="{{data.id_articulo}}"
                          [(ngModel)]="dataEditIngrediente.id_articulo"
                          (change)="selUnidadKardexEdit(dataEditIngrediente.id_articulo);" required>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="centrarpaginacion">
                  <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="meai = $event" id="modalEditArtInv"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </div>
        <form #IngredientesEditForm="ngForm">
          <div class="row">

            <div class="col-md-12">
              <div class="form-group">
                <label for="unidad">Cantidad
                  <b class="asterisco">*</b>:</label>
                <input type="text" class="form-control" name="dataEditIngrediente.cantidadIngre"
                  [(ngModel)]="dataEditIngrediente.cantidadIngre" #cantIngre="ngModel"
                  (keypress)="kPNumerosPuntos($event)" required
                  [ngClass]="{'is-invalid': !cantIngre.valid && (cantIngre.dirty || cantIngre.touched)}" />
                <span class="invalid-feedback" *ngIf="cantIngre.errors && (cantIngre.dirty || cantIngre.touched)">
                  <li *ngIf=cantIngre.errors.required>
                    El campo cantidad es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>
          <div class="row">
            <!-- <div class="form-group" [ngClass]="{'is-invalid': !uniEquiva.valid && (uniEquiva.dirty || uniEquiva.touched)}">
              <label for="unidad">Unidad
                <b class="asterisco">*</b>:</label>
              <input name="dataEditIngrediente.nombre_unidad" [(ngModel)]="dataEditIngrediente.nombre_unidad" class="form-control" (ngModelChange)="ValidarUnidadIngrediente($event)"
                list="ingredientes" name="ingredientes" #uniEquiva="ngModel" required>
              <datalist id="ingredientes">
                <option [value]="unEqui.nombre" required *ngFor="let unEqui of DataJsonEquivalenciaUnidad"></option>
              </datalist>
              <span class="invalid-feedback" *ngIf="uniEquiva.errors && (uniEquiva.dirty || uniEquiva.touched)">
                <li *ngIf="uniEquiva.errors.required">
                  El campo unidad es obligatorio
                </li>
              </span>
            </div> -->
            <div class="col-md-12">
              <div class="form-group">
                <label for="nombre">Unidad
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="dataEditIngrediente.unidad" [(ngModel)]="dataEditIngrediente.unidad"
                  #unidKard="ngModel"
                  (change)="consultarTablaConversionEdit(dataEditIngrediente.idUniKardex, dataEditIngrediente.unidad)"
                  required [ngClass]="{'is-invalid': !unidKard.valid && (unidKard.dirty || unidKard.touched)}">
                  <option [value]=""></option>
                  <option [value]="unKar.id" *ngFor="let unKar of DataJsonUndKardexIngredientes">{{unKar.nombre}}
                  </option>
                </select>
                <span class="invalid-feedback" *ngIf="unidKard.errors && (unidKard.dirty || unidKard.touched)">
                  <li *ngIf="unidKard.errors.required">
                    El campo unidad es obligatorio
                  </li>
                </span>
              </div>
            </div>
          </div>


          <!-- <div class="row" *ngIf="crearCon">
            <div class="col-md-4">
              <label for="fac">Factor conversion
                <b class="asterisco">*</b>:</label>
            </div>
            <div class="col-md-3">
              <input type="radio" id="fac" name="dataEditIngrediente.crearoperando"
                [(ngModel)]="dataEditIngrediente.crearoperando" value='M' required>
              <b>Multiplica</b>
            </div>
            <div class="col-md-3">
              <input type="radio" id="fac" name="dataEditIngrediente.crearoperando"
                [(ngModel)]="dataEditIngrediente.crearoperando" value='D' required>
              <b>Divide</b>
            </div>
          </div> -->

          <div class="row" *ngIf="crearCon">
            <div class="col-md-2 spaddi">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="dataEditIngrediente.cantConvKardex"
                  [(ngModel)]="dataEditIngrediente.cantConvKardex" required>
              </div>
            </div>
            <div class="col-md-3 spaddi">
              <div class="form-group">
                <label for="con">Und de kardex:</label>
                <input type="text" readonly class="form-control" name="dataEditIngrediente.nombreUniKardex"
                  [(ngModel)]="dataEditIngrediente.nombreUniKardex">
              </div>
            </div>
            <div class="col-md-1 spaddi">
              <div class="form-group">
                <label for="con">Igual:</label>
                <br>
                <label class="topcenter"> =</label>
              </div>
            </div>
            <div class="col-md-2 spaddi">
              <div class="form-group">
                <label for="cant">Cantidad:</label>
                <input type="text" class="form-control" name="dataEditIngrediente.cantConvCompra"
                  [(ngModel)]="dataEditIngrediente.cantConvCompra" required>
              </div>
            </div>
            <div class="col-md-3 spaddi">
              <div class="form-group">
                <label for="con">Und conversión:</label>
                <br>
                <label class="topcenter" for="uni">{{dataEditIngrediente.nom_unidad}}</label>
              </div>
            </div>
          </div>





        </form>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button data-dismiss="modal" (click)="ModificarIngrediente(dataEditIngrediente)"
            [disabled]="!IngredientesEditForm.valid || existeIngredienteEdit || !dataEditIngrediente.id_articulo || ConsultaConversionEdit"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- **************** Fin Modal Modificar Ingrediente Receta  ******************* -->


<!-- ****************** Modal Modificar Ingrediente Receta  ********************* -->

<!-- <div id="ModificarIngrediente" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Ingrediente</h4>
      </div>

      <div class="modal-body">


        <div class="tablaconfig">
          <div class="centrar buscar-paginacionconfig">
            <div class="buscar-paginacion2">
              <input type="text" class="form-control" name="searchStringEditArtInv" placeholder="Buscar" [(ngModel)]="searchStringEditArtInv">
            </div>
            <div class="buscar-paginacion2">
              <select class="form-control" name="itempageEditArtInv" [(ngModel)]="itempageEditArtInv">
                <option value="5" selected="selected">Articulos Por Página</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="40">40</option>
                <option value="50">50</option>
              </select>
            </div>
          </div>

          <div>
            <div class="loading" *ngIf="loader">
              <i class="fas fa-sync-alt fa-spin fa-3x"></i>
            </div>
            <div class="loadError" *ngIf="LoadError">
              <div class="alert alert-danger">{{error}}</div>
            </div>
            <div *ngIf="LoadTabla">
              <div class="panel-body table-responsive">
                <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                  <thead>
                    <tr>
                      <th>Nombre Articulo</th>
                      <th class="center">
                        Seleccionar </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="odd gradeX" *ngFor="let data of DataJsonArtInventario | modaleditingredientesrecetaingart: searchStringEditArtInv | paginate: { itemsPerPage: itempageEditArtInv, currentPage: meai, id:'modalEditArtInv' }">
                      <td>{{data.nombre_articulo}}</td>
                      <td class="center">
                        <input type="radio" name="dataEditIngrediente.id_articulo" value="{{data.id_articulo}}" [(ngModel)]="dataEditIngrediente.id_articulo"
                          (change)="LoadUnidadEquivalencias(data.id_unidad_kardex)" required>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="centrarpaginacion">
                  <pagination-controls (pageChange)="meai = $event" id="modalEditArtInv"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </div>
        <form #IngredientesEditForm="ngForm">
          <div class="row">
            <div class="form-group" [ngClass]="{'is-invalid': !cantIngre.valid && (cantIngre.dirty || cantIngre.touched)}">
              <label for="unidad">Cantidad
                <b class="asterisco">*</b>:</label>
              <input type="text" class="form-control" name="dataEditIngrediente.cantidadIngre" [(ngModel)]="dataEditIngrediente.cantidadIngre"
                #cantIngre="ngModel" (keypress)="kPNumerosPuntos($event)" required/>
              <span class="invalid-feedback" *ngIf="cantIngre.errors && (cantIngre.dirty || cantIngre.touched)">
                <li *ngIf=cantIngre.errors.required>
                  El campo cantidad es obligatorio
                </li>
              </span>
            </div>
          </div>
          <div class="row">
            <div class="form-group" [ngClass]="{'is-invalid': !uniEquiva.valid && (uniEquiva.dirty || uniEquiva.touched)}">
              <label for="nombre">Unidad
                <b class="asterisco">*</b>:</label>
              <select class="form-control" name="dataEditIngrediente.unidad" [(ngModel)]="dataEditIngrediente.unidad" #uniEquiva="ngModel"
                required>
                <option [value]=""></option>
                <option [value]="unEqui.id" *ngFor="let unEqui of DataJsonEquivalenciaUnidad">{{unEqui.nombre}}</option>
              </select>
              <span class="invalid-feedback" *ngIf="uniEquiva.errors && (uniEquiva.dirty || uniEquiva.touched)">
                <li *ngIf="uniEquiva.errors.required">
                  El campo unidad es obligatorio
                </li>
              </span>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button data-dismiss="modal" (click)="ModificarIngredienteEdit(dataEditIngrediente)" [disabled]="!IngredientesEditForm.valid || !dataEditIngrediente.id_articulo"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div> -->

<!-- **************** Fin Modal Modificar Ingrediente Receta  ******************* -->


<!--*************************Modal Importar***********************************-->

<div id="Importar" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Copiar la receta para el Articulo</h4>
      </div>

      <div class="modal-body">
        <div class="tablaconfig">
          <div class="centrar buscar-paginacionconfig">
            <div class="buscar-paginacion2">
              <input type="text" class="form-control" name="searchStringArt" placeholder="Buscar"
                [(ngModel)]="searchStringArt">
            </div>
            <div class="buscar-paginacion2">
              <select class="form-control" name="itempageArt" [(ngModel)]="itempageArt">
                <option value="5" selected="selected">Articulos Por Página</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="40">40</option>
                <option value="50">50</option>
              </select>
            </div>
          </div>

          <div>
            <div class="panel-body table-responsive">
              <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                <thead>
                  <tr>
                    <th>Nombre</th>
                    <th>Unidad Kardex</th>
                    <th>Acciones</th>
                  </tr>
                </thead>
                <tbody>  <!--  | articulosreceta : searchStringArt  -->
                  <tr class="odd gradeX" (click)="clickFilaImportarReceta(data.id)"
                    *ngFor="let data of DataArticulos | paginate: { itemsPerPage: itempageArt, currentPage: modalArt }">
                    <td>{{data.nombre}}</td>
                    <td>{{data.nombre_kardex}}</td>
                    <td>
                      <input type="radio" name="DataImportar.id_articulo" value="{{data.id}}"
                        [(ngModel)]="DataImportar.id_articulo">
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="centrarpaginacion">
                <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="modalArt = $event"></pagination-controls>
              </div>
            </div>

          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="ImportarReceta(DataImportar);" data-dismiss="modal" class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>

    </div>
  </div>
</div>

<!--********************** Fin Modal Importar*************************************-->


<!-- ****************************** Modal Empaques ****************************** -->

<div id="Empaques" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Grupos de Empaque</h4>
      </div>

      <div class="modal-body">

        <div class="tablaconfig">
          <div class="centrar buscar-paginacionconfig">
            <div class="buscar-paginacion2">
              <input type="text" class="form-control" name="searchStringArtEmp" placeholder="Buscar"
                [(ngModel)]="searchStringArtEmp">
            </div>
            <div class="buscar-paginacion2">
              <select class="form-control" name="itempageArtEmp" [(ngModel)]="itempageArtEmp">
                <option value="5" selected="selected">Articulos Por Página</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="40">40</option>
                <option value="50">50</option>
              </select>
            </div>
          </div>

          <div>
            <div class="panel-body table-responsive">
              <table width="100%" class="table table-striped table-hover" id="dataTables-example">
                <thead>
                  <tr>
                    <th>Nombre Articulo</th>
                    <th class="center">
                      Seleccionar
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="odd gradeX" (click)="clickFilaEmpaques(data.id)"
                    *ngFor="let data of DataJsonGruposEmpaque | modalempaquesingart: searchStringArtEmp | paginate: { itemsPerPage: itempageArtEmp, currentPage: mae, id:'modalarticulosemp' }">
                    <td>{{data.nombre}}</td>
                    <td class="center">
                      <input type="radio" name="dataEmpaque.id" value="{{data.id}}" [(ngModel)]="dataEmpaque.id"
                        required>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="centrarpaginacion">
                <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="mae = $event" id="modalarticulosemp"></pagination-controls>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button data-dismiss="modal" (click)="MostrarEmpaques(dataEmpaque)" [disabled]="!dataEmpaque.id"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" (click)="LimpiarFormEmpaques()" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- **************************** Fin Modal Empaques **************************** -->

<!--*************************Modal Eliminar Receta***********************************-->

<div id="EliminarReceta" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Confirmación para Eliminar Receta</h4>
      </div>

      <div class="modal-body">
        <p style="color:#FF0000">
          <b> Esta seguro que desea Eliminar la Receta {{datosEliminarReceta.nombre}}</b>
        </p>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="QuitarReceta(datosEliminarReceta);" data-dismiss="modal" class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>

    </div>
  </div>
</div>

<!--********************** Fin Modal Eliminar Receta*************************************-->

<!--*************************Modal Inactivar Receta***********************************-->

<div id="InactivarReceta" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Confirmación para Inactivar Receta</h4>
      </div>

      <div class="modal-body">
        <p style="color:#FF0000">
          <b> Esta seguro que desea Inactivar la Receta {{datosInactivarReceta.nombre}}</b>
        </p>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="InactivarReceta(datosInactivarReceta);" data-dismiss="modal"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>

    </div>
  </div>
</div>

<!--********************** Fin Modal Inactivar Receta*************************************-->



<!--*************************Modal Salir Receta***********************************-->

<div id="SalirReceta" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Confirmación</h4>
      </div>

      <div class="modal-body">
        <p style="color:#FF0000">
          <b> Esta seguro de que desea salir de la Receta sin guardar los cambios?</b>
        </p>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="SalirReceta(moduloOrigen);" data-dismiss="modal"
            class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>

    </div>
  </div>
</div>

<!--********************** Fin Modal Salir Receta*************************************-->


<!--*************************Modal Activar Receta***********************************-->

<div id="ActivarReceta" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Confirmación para Activar Receta</h4>
      </div>
      <div class="modal-body">
        <p style="color:#FF0000">
          <b> Seguro desea Activar la receta con Id: {{ datosActivarReceta.id }} con Nombre:
            {{ datosActivarReceta.nombre }}</b>
        </p>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button (click)="ActivarReceta(datosActivarReceta);" data-dismiss="modal" class="btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!--********************** Fin Modal Ativar Receta*************************************-->

<!--*************************Modal Crear**************************-->

<div id="CrearGrupoEmp" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Crear Grupo de empaque</h4>
      </div>

      <div class="modal-body">
        <form #gruposEmpaqueForm="ngForm">

          <div class="row">
            <div class="col-md-8">
              <label for="nombre">Nombre Grupo de Empaque
                <b class="asterisco">*</b>:</label>
            </div>
          </div>
          <div class="row">
            <div class="col-md-8">
              <div class="form-group">

                <input type="text" class="form-control" id="nombre" name="DataNewGrupoEmp.nombre"
                  [(ngModel)]="DataNewGrupoEmp.nombre" #nameGrupoEmp="ngModel" minlength="5" maxlength="80" required
                  [ngClass]="{'is-invalid': !nameGrupoEmp.valid && (nameGrupoEmp.dirty || nameGrupoEmp.touched)}" />
                <span class="invalid-feedback"
                  *ngIf="nameGrupoEmp.errors && (nameGrupoEmp.dirty || nameGrupoEmp.touched)">
                  <li *ngIf="nameGrupoEmp.errors.required">
                    El campo nombre Grupo de Empaque es obligatorio
                  </li>
                  <li *ngIf="nameGrupoEmp.errors.minlength">
                    El campo nombre Grupo de Empaque debe tener mas de 5 caracteres
                  </li>
                  <li *ngIf="nameGrupoEmp.errors.maxlength">
                    El campo nombre Grupo de Empaque no puede ser mayor a 20 caracteres
                  </li>
                </span>
              </div>
            </div>

            <div class="col-md-4">
              <button (click)="clickBotonImportar();" [disabled]="!DataNewGrupoEmp.nombre"
                class=" btnbutton">Importar</button>
            </div>
          </div>
          <div class="row" *ngIf="clickImportar">
            <div class="col-md-8">
              <div class="form-group">
                <label for="nombre">Grupos de Empaque
                  <b class="asterisco">*</b>:</label>
                <select class="form-control" name="DataNewGrupoEmp.grupo_importar"
                  [(ngModel)]="DataNewGrupoEmp.grupo_importar" #gruimpo="ngModel" required>
                  <option [value]=""></option>
                  <option [value]="gru.id" *ngFor="let gru of DataJsonGruposEmpaque">{{gru.nombre}}</option>
                </select>
              </div>
            </div>
          </div>
        </form>
        <br>
        <div class="tablaconfig" *ngIf="!clickImportar">
          <div class="centrar buscar-paginacionconfig">
            <div class="buscar-paginacion2">
              <input type="text" class="form-control" name="searchStringArtGrupo" placeholder="Buscar"
                [(ngModel)]="searchStringArtGrupo">
            </div>
            <div class="buscar-paginacion2">
              <select class="form-control" name="itempageArtGrupo" [(ngModel)]="itempageArtGrupo">
                <option value="5" selected="selected">Articulos Por Página</option>
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="40">40</option>
                <option value="50">50</option>
              </select>
            </div>
          </div>

          <div class="panel-body table-responsive">
            <table width="100%" class="table table-striped table-hover" id="permisos">
              <thead>
                <tr>
                  <th>Nombre</th>
                  <th>Cantidad</th>
                  <th class="center">Seleccionar</th>
                </tr>
              </thead>
              <tbody> <!--   -->
                <tr class="odd gradeX"
                  *ngFor="let data of DataJsonArticulosGrupo | modalarticulosgru: searchStringArtGrupo | paginate: { itemsPerPage: itempageArtGrupo, currentPage: ag ,id: 'artgrupo'}">
                  <td>{{data.nombre}}</td>
                  <td contenteditable="true" (keypress)="kPNumeros($event)"
                    (blur)="updateProductoModal(data, 'cantidad', $event)">{{data.cantidad}}
                  </td>
                  <td class="center">
                    <input type="checkbox" [disabled]="data.cantidad==''|| data.cantidad == 0" [checked]="data.checked"
                      (change)="onChangeGrupoEmp(data, $event.target.checked)">
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="centrarpaginacion">
              <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="ag = $event" id="artgrupo"></pagination-controls>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="centrar">
          <button *ngIf="clickImportar" (click)="crearGrupoEmpaque(DataNewGrupoEmp, 1);"
            [disabled]="!gruposEmpaqueForm.valid" data-dismiss="modal" class=" btnbutton">Aceptar</button>
          <button *ngIf="!clickImportar" (click)="crearGrupoEmpaque(DataNewGrupoEmp, 0);"
            [disabled]="!gruposEmpaqueForm.valid || DataJsonArtGruSel.length === 0" data-dismiss="modal"
            class=" btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar">Cancelar</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!--************************* Fin Modal Crear******************************-->


<!--********************** Inicio Modal Modificar*************************************-->

<div id="ModificarGrupoEmp" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Modificar Grupo de empaque</h4>
      </div>

      <div class="modal-body">
        <form #editGruposForm="ngForm">

          <div class="form-group">
            <label for="nombre">Nombre Grupo de Empaque
              <b class="asterisco">*</b>:</label>
            <input type="text" class="form-control" id="nombre" name="DataModificar.nombreGrupo"
              [(ngModel)]="DataModificar.nombreGrupo" #nameGrupoEmpa="ngModel" minlength="5" maxlength="80" required
              [ngClass]="{'is-invalid': !nameGrupoEmpa.valid && (nameGrupoEmpa.dirty || nameGrupoEmpa.touched)}" />
            <span class="invalid-feedback"
              *ngIf="nameGrupoEmpa.errors && (nameGrupoEmpa.dirty || nameGrupoEmpa.touched)">
              <li *ngIf="nameGrupoEmpa.errors.required">
                El campo nombre Grupo de Empaque es obligatorio
              </li>
              <li *ngIf="nameGrupoEmpa.errors.minlength">
                El campo nombre Grupo de Empaque debe tener mas de 5 caracteres
              </li>
              <li *ngIf="nameGrupoEmpa.errors.maxlength">
                El campo nombre Grupo de Empaque no puede ser mayor a 20 caracteres
              </li>
            </span>
          </div>

          <div class="tablaconfig">
            <div class="centrar buscar-paginacionconfig">
              <div class="buscar-paginacion2">
                <input type="text" class="form-control" name="searchStringEditGrupo" placeholder="Buscar"
                  [(ngModel)]="searchStringEditGrupo">
              </div>
              <div class="buscar-paginacion2">
                <select class="form-control" name="itempageEditGrupo" [(ngModel)]="itempageEditGrupo">
                  <option value="5" selected="selected">Articulos Por Página</option>
                  <option value="5">5</option>
                  <option value="10">10</option>
                  <option value="20">20</option>
                  <option value="40">40</option>
                  <option value="50">50</option>
                </select>
              </div>
            </div>

            <div class="panel-body table-responsive">
              <table width="100%" class="table table-striped table-hover" id="permisos">
                <thead>
                  <tr>
                    <th>Nombre</th>
                    <th>Cantidad</th>
                    <th class="center">Seleccionar</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="odd gradeX"
                    *ngFor="let data of DataArticulosGrupEmp |  paginate: { itemsPerPage: itempageEditGrupo, currentPage: eg ,id: 'editgrupo'}">
                    <td>{{data.nombre}}</td>
                    <td contenteditable="true" (keypress)="kPNumeros($event)"
                      (blur)="updateEditProductoModal(data, 'cantidad', $event)">{{data.cantidad}}
                    </td>
                    <td class="center">
                      <input type="checkbox" [disabled]="data.cantidad==''|| data.cantidad == 0"
                        [checked]="data.checked" (change)="onChangeEdit(data, $event.target.checked)">
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="centrarpaginacion">
                <pagination-controls previousLabel="Anterior" nextLabel="Siguiente" (pageChange)="eg = $event" id="editgrupo"></pagination-controls>
              </div>
            </div>
          </div>
        </form>
      </div>

      <div class="modal-footer">
        <div class="centrar">
          <button (click)="onSubmitModificar(DataModificar);" [disabled]="!editGruposForm.valid" data-dismiss="modal"
            class=" btnbutton">Aceptar</button>
          <button data-dismiss="modal" class="btnbuttoncerrar" (click)="LoadGruposEmpaque()">Cancelar</button>
        </div>
      </div>

    </div>
  </div>
</div>

<!--************************** Fin Modal Modificar**********************************-->



<!--*************************** Modal Imagen Preview********************************* -->

<!-- Modal -->
<div class="modal fade" id="ModalArticulos" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">

      <div class="modal-body">
        <div class="row">
          <div class="col-md-12">
            <img style="width: 100%; height: 100%;" [src]="imageUrl" alt="">
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
